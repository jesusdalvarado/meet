(function(){const se=document.createElement("link").relList;if(se&&se.supports&&se.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))ve(d);new MutationObserver(d=>{for(const w of d)if(w.type==="childList")for(const G of w.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&ve(G)}).observe(document,{childList:!0,subtree:!0});function $e(d){const w={};return d.integrity&&(w.integrity=d.integrity),d.referrerPolicy&&(w.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?w.credentials="include":d.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function ve(d){if(d.ep)return;d.ep=!0;const w=$e(d);fetch(d.href,w)}})();const ss=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};(function(){var Ft=Object.defineProperty;function se(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var $e=se(this);function ve(e,t){if(t)e:{var n=$e;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&Ft(n,e,{configurable:!0,writable:!0,value:t})}}ve("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")});var d=this||self;function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function G(e,t){function n(){}n.prototype=t.prototype,e.qa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.oa=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function ae(e,t){if(Error.captureStackTrace)Error.captureStackTrace(this,ae);else{const n=Error().stack;n&&(this.stack=n)}e&&(this.message=String(e)),t!==void 0&&(this.cause=t)}G(ae,Error),ae.prototype.name="CustomError";function K(e){d.setTimeout(()=>{throw e},0)}var Fe,we;e:{for(var kt=["CLOSURE_FLAGS"],Se=d,ke=0;ke<kt.length;ke++)if(Se=Se[kt[ke]],Se==null){we=null;break e}we=Se}var Bt=we&&we[610401301];Fe=Bt??!1;var le;const zt=d.navigator;le=zt&&zt.userAgentData||null;function Be(e){return Fe&&le?le.brands.some(({brand:t})=>t&&t.indexOf(e)!=-1):!1}function I(e){var t;e:{if((t=d.navigator)&&(t=t.userAgent))break e;t=""}return t.indexOf(e)!=-1}function $(){return Fe?!!le&&le.brands.length>0:!1}function ze(){return $()?Be("Chromium"):(I("Chrome")||I("CriOS"))&&!(!$()&&I("Edge"))||I("Silk")}function Wt(e,t){t=Array.prototype.indexOf.call(e,t,void 0),t>=0&&Array.prototype.splice.call(e,t,1)}!I("Android")||ze(),ze(),I("Safari")&&(ze()||!$()&&I("Coast")||!$()&&I("Opera")||!$()&&I("Edge")||($()?Be("Microsoft Edge"):I("Edg/"))||$()&&Be("Opera"));function Jt(e){let t="",n=0;const r=e.length-10240;for(;n<r;)t+=String.fromCharCode.apply(null,e.subarray(n,n+=10240));return t+=String.fromCharCode.apply(null,n?e.subarray(n):e),btoa(t)}const Gt=/[-_.]/g,mr={"-":"+",_:"/",".":"="};function vr(e){return mr[e]||""}function We(e){return e!=null&&e instanceof Uint8Array}var ce={};function xe(){return Kt||(Kt=new ue(null,ce))}var ue=class{constructor(e,t){if(Yt(t),this.g=e,e!=null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")}};let Kt;function Yt(e){if(e!==ce)throw Error("illegal external caller")}function Vt(e,t){e.__closure__error__context__984382||(e.__closure__error__context__984382={}),e.__closure__error__context__984382.severity=t}let qt;function Ht(){const e=Error();Vt(e,"incident"),K(e)}function Xt(e){return e=Error(e),Vt(e,"warning"),e}function Je(){return typeof BigInt=="function"}function fe(e){return Array.prototype.slice.call(e)}function Ge(e,t){return t&&Symbol.for&&e?Symbol.for(e):e!=null?Symbol(e):Symbol()}var u=Ge("jas",!0),Ke=Ge(),Qt=Ge();function wr(e,t){t[u]=(e|0)&-30975}function Ye(e,t){t[u]=(e|34)&-30941}var Ae={},Sr={};function Zt(e){return!(!e||typeof e!="object"||e.g!==Sr)}function Ve(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.constructor===Object}function en(e,t){if(e!=null){if(typeof e=="string")e=e?new ue(e,ce):xe();else if(e.constructor!==ue)if(We(e))e=e.length?new ue(new Uint8Array(e),ce):xe();else{if(!t)throw Error();e=void 0}}return e}function Ee(e){return!Array.isArray(e)||e.length?!1:!!((e[u]|0)&1)}var tn;const nn=[];nn[u]=55,tn=Object.freeze(nn);function Te(e){if(e&2)throw Error()}var xr=Object.freeze({});function Pe(e){return e.pa=!0,e}var Ar=Pe(e=>typeof e=="number"),rn=Pe(e=>typeof e=="string"),Er=Pe(e=>typeof e=="boolean"),Ne=typeof d.BigInt=="function"&&typeof d.BigInt(0)=="bigint",qe=Pe(e=>Ne?e>=Pr&&e<=Ir:e[0]==="-"?on(e,Tr):on(e,Nr));const Tr=Number.MIN_SAFE_INTEGER.toString(),Pr=Ne?BigInt(Number.MIN_SAFE_INTEGER):void 0,Nr=Number.MAX_SAFE_INTEGER.toString(),Ir=Ne?BigInt(Number.MAX_SAFE_INTEGER):void 0;function on(e,t){if(e.length>t.length)return!1;if(e.length<t.length||e===t)return!0;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];if(r>i)return!1;if(r<i)return!0}}let m=0,A=0;function sn(e){const t=e>>>0;m=t,A=(e-t)/4294967296>>>0}function an(e){if(e<0){sn(-e);const[t,n]=Xe(m,A);m=t>>>0,A=n>>>0}else sn(e)}function He(e,t){if(t>>>=0,e>>>=0,t<=2097151)var n=""+(4294967296*t+e);else Je()?n=""+(BigInt(t)<<BigInt(32)|BigInt(e)):(n=(e>>>24|t<<8)&16777215,t=t>>16&65535,e=(e&16777215)+n*6777216+t*6710656,n+=t*8147497,t*=2,e>=1e7&&(n+=e/1e7>>>0,e%=1e7),n>=1e7&&(t+=n/1e7>>>0,n%=1e7),n=t+ln(n)+ln(e));return n}function ln(e){return e=String(e),"0000000".slice(e.length)+e}function Xe(e,t){return t=~t,e?e=~e+1:t+=1,[e,t]}function cn(e){if(e==null||typeof e=="boolean")return e;if(typeof e=="number")return!!e}const jr=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function un(e){const t=typeof e;switch(t){case"bigint":return!0;case"number":return Number.isFinite(e)}return t!=="string"?!1:jr.test(e)}function O(e){if(e!=null){if(!Number.isFinite(e))throw Xt("enum");e|=0}return e}function Qe(e){if(e!=null&&typeof e=="string"){if(!e)return;e=+e}}function Ze(e){if(e!=null)e:{if(!un(e))throw Xt("int64");switch(typeof e){case"string":e=dn(e);break e;case"bigint":var t=e=BigInt.asIntN(64,e);if(rn(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(Ar(t)&&!Number.isSafeInteger(t))throw Error(String(t));Ne?e=BigInt(e):e=Er(e)?e?"1":"0":rn(e)?e.trim()||"0":String(e);break e;default:e=fn(e)}}return e}function fn(e){if(e=Math.trunc(e),!Number.isSafeInteger(e)){an(e);var t=m,n=A;(e=n&2147483648)&&(t=~t+1>>>0,n=~n>>>0,t==0&&(n=n+1>>>0));const r=n*4294967296+(t>>>0);t=Number.isSafeInteger(r)?r:He(t,n),e=typeof t=="number"?e?-t:t:e?"-"+t:t}return e}function dn(e){var t=Math.trunc(Number(e));if(Number.isSafeInteger(t))return String(t);if(t=e.indexOf("."),t!==-1&&(e=e.substring(0,t)),!(e[0]==="-"?e.length<20||e.length===20&&Number(e.substring(0,7))>-922337:e.length<19||e.length===19&&Number(e.substring(0,6))<922337)){if(e.length<16)an(Number(e));else if(Je())e=BigInt(e),m=Number(e&BigInt(4294967295))>>>0,A=Number(e>>BigInt(32)&BigInt(4294967295));else{t=+(e[0]==="-"),A=m=0;const n=e.length;for(let r=t,i=(n-t)%6+t;i<=n;r=i,i+=6){const s=Number(e.slice(r,i));A*=1e6,m=m*1e6+s,m>=4294967296&&(A+=Math.trunc(m/4294967296),A>>>=0,m>>>=0)}if(t){const[r,i]=Xe(m,A);m=r,A=i}}if(e=m,t=A,t&2147483648)if(Je())e=""+(BigInt(t|0)<<BigInt(32)|BigInt(e>>>0));else{const[n,r]=Xe(e,t);e="-"+He(n,r)}else e=He(e,t)}return e}function R(e){if(e!=null&&typeof e!="string")throw Error();return e}function hn(e,t,n){if(e!=null&&typeof e=="object"&&e.H===Ae)return e;if(Array.isArray(e)){var r=e[u]|0,i=r;return i===0&&(i|=n&32),i|=n&2,i!==r&&(e[u]=i),new t(e)}}function Ur(e){de===void 0&&(de=typeof Proxy=="function"?yn(Proxy):null);var t;return(t=!de)||(he===void 0&&(he=typeof WeakMap=="function"?yn(WeakMap):null),t=!he),t?e:(t=gn(e))?t:Math.random()>.01?e:(br(e),t=new de(e,{set(n,r,i){return Mr(),n[r]=i,!0}}),Cr(e,t),t)}function Mr(){Ht()}let Ie,et;function gn(e){let t;return(t=Ie)==null?void 0:t.get(e)}function Cr(e,t){(Ie||(Ie=new he)).set(e,t),(et||(et=new he)).set(t,e)}let de,he;function yn(e){try{return e.toString().indexOf("[native code]")!==-1?e:null}catch{return null}}let tt;function br(e){if(tt===void 0){const t=new de([],{});tt=Array.prototype.concat.call([],t).length===1}tt&&typeof Symbol=="function"&&Symbol.isConcatSpreadable&&(e[Symbol.isConcatSpreadable]=!0)}function Or(e,t){return pn(t)}function pn(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"bigint":return qe(e)?Number(e):String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(Ee(e))return}else{if(We(e))return Jt(e);if(e instanceof ue){const t=e.g;return t==null?"":typeof t=="string"?t:e.g=Jt(t)}}}return e}function Rr(e,t,n){e=fe(e);var r=e.length;const i=t&256?e[r-1]:void 0;for(r+=i?-1:0,t=t&512?1:0;t<r;t++)e[t]=n(e[t]);if(i){t=e[t]={};for(const s in i)t[s]=n(i[s])}return e}function mn(e,t,n,r,i){if(e!=null){if(Array.isArray(e))e=Ee(e)?void 0:i&&(e[u]|0)&2?e:nt(e,t,n,r!==void 0,i);else if(Ve(e)){const s={};for(let o in e)s[o]=mn(e[o],t,n,r,i);e=s}else e=t(e,r);return e}}function nt(e,t,n,r,i){const s=r||n?e[u]|0:0;r=r?!!(s&32):void 0,e=fe(e);for(let o=0;o<e.length;o++)e[o]=mn(e[o],t,n,r,i);return n&&n(s,e),e}function Dr(e){return e.H===Ae?e.toJSON():pn(e)}function vn(e,t,n=Ye){if(e!=null){if(e instanceof Uint8Array)return t?e:new Uint8Array(e);if(Array.isArray(e)){var r=e[u]|0;return r&2?e:(t&&(t=r===0||!!(r&32)&&!(r&64||!(r&16))),t?(e[u]=(r|34)&-12293,e):nt(e,vn,r&4?Ye:n,!0,!0))}return e.H===Ae&&(n=e.m,r=n[u],e=r&2?e:new e.constructor(rt(n,r,!0))),e}}function rt(e,t,n){const r=n||t&2?Ye:wr,i=!!(t&32);return e=Rr(e,t,s=>vn(s,i,r)),e[u]=e[u]|32|(n?2:0),e}function it(e){const t=e.m,n=t[u];return n&2?new e.constructor(rt(t,n,!1)):e}function D(e,t){return e=e.m,Y(e,e[u],t)}function wn(e,t,n,r){if(t=r+(+!!(t&512)-1),!(t<0||t>=e.length||t>=n))return e[t]}function Y(e,t,n,r){if(n===-1)return null;const i=t>>15&1023||536870912;if(n>=i){if(t&256)return e[e.length-1][n]}else{var s=e.length;if(r&&t&256&&(r=e[s-1][n],r!=null)){if(wn(e,t,i,n)&&Ke!=null){var o;e=(o=qt)!=null?o:qt={},o=e[Ke]||0,o>=4||(e[Ke]=o+1,Ht())}return r}return wn(e,t,i,n)}}function ot(e,t,n){const r=e.m;let i=r[u];return Te(i),S(r,i,t,n),e}function S(e,t,n,r){const i=t>>15&1023||536870912;if(n>=i){let s,o=t;if(t&256)s=e[e.length-1];else{if(r==null)return o;s=e[i+(+!!(t&512)-1)]={},o|=256}return s[n]=r,n<i&&(e[n+(+!!(t&512)-1)]=void 0),o!==t&&(e[u]=o),o}return e[n+(+!!(t&512)-1)]=r,t&256&&(e=e[e.length-1],n in e&&delete e[n]),t}function V(e,t,n,r){return n=_(e,r)===n?n:-1,Sn(e,t,n)!==void 0}function q(e){return!!(2&e)&&!!(4&e)||!!(2048&e)}function g(e,t,n,r){const i=e.m;let s=i[u];return Te(s),S(i,s,t,(r==="0"?Number(n)===0:n===r)?void 0:n),e}function _(e,t){return e=e.m,at(st(e),e,e[u],t)}function st(e){let t;return(t=e[Qt])!=null?t:e[Qt]=new Map}function at(e,t,n,r){let i=e.get(r);if(i!=null)return i;i=0;for(let s=0;s<r.length;s++){const o=r[s];Y(t,n,o)!=null&&(i!==0&&(n=S(t,n,i)),i=o)}return e.set(r,i),i}function Sn(e,t,n,r){e=e.m;let i=e[u];return r=Y(e,i,n,r),t=hn(r,t,i),t!==r&&t!=null&&S(e,i,n,t),t}function lt(e,t,n){if(t=Sn(e,t,n,!1),t==null)return t;e=e.m;let r=e[u];if(!(r&2)){const i=it(t);i!==t&&(t=i,S(e,r,n,t))}return t}function H(e,t,n){return n==null&&(n=void 0),ot(e,t,n)}function h(e,t,n,r){r==null&&(r=void 0);e:{const o=e.m;var i=o[u];if(Te(i),r==null){var s=st(o);if(at(s,o,i,n)===t)s.set(n,0);else break e}else{s=o;const l=st(s),a=at(l,s,i,n);a!==t&&(a&&(i=S(s,i,a)),l.set(n,t))}S(o,i,t,r)}return e}function xn(e,t){const n=e.m;let r=n[u];if(Te(r),t==null)return S(n,r,1),e;var i=t,s;t=((s=et)==null?void 0:s.get(i))||i,s=i=t[u]|0;const o=q(i),l=o||Object.isFrozen(t);let a=!0,p=!0;for(let x=0;x<t.length;x++){var v=t[x];o||(v=!!((v.m[u]|0)&2),a&&(a=!v),p&&(p=v))}return o||(i=a?13:5,i=p?i|16:i&-17),l&&i===s||(t=fe(t),s=0,i=je(i,r),i=ct(i,r,!0)),i!==s&&(t[u]=i),S(n,r,1,t),e}function je(e,t){return e=(2&t?e|2:e&-3)|32,e&=-2049}function ct(e,t,n){return 32&t&&n||(e&=-33),e}function X(e,t){return e??t}function An(e){return e=D(e,1),e!=null&&(typeof e=="bigint"?qe(e)?e=Number(e):(e=BigInt.asIntN(64,e),e=qe(e)?Number(e):String(e)):e=un(e)?typeof e=="number"?fn(e):dn(e):void 0),X(e,0)}function E(e,t){return e=D(e,t),X(e==null||typeof e=="string"?e:void 0,"")}function F(e,t){return e=D(e,t),e=e==null?e:Number.isFinite(e)?e|0:void 0,X(e,0)}function y(e,t,n,r){return n=_(e,r)===n?n:-1,lt(e,t,n)}let Q;function ut(e){try{return Q=!0,JSON.stringify(ft(e),Or)}finally{Q=!1}}function _r(){var e=ir||(ir=Lr("[1,2,0]"));e=it(e),e=ot(e,4,R("dev-706864954"));const t=e.m,n=t[u];return n&2?e:new e.constructor(rt(t,n,!0))}var c=class{constructor(e){e:{var t=t??0;if(e==null){var n=96;e=[]}else{if(!Array.isArray(e))throw Error("narr");if(n=e[u]|0,n&2048)throw Error("farr");if(n&64)break e;t===1||t===2||(n|=64),t=e;var r=t.length;if(r&&(--r,Ve(t[r]))){if(n|=256,t=r-(+!!(n&512)-1),t>=1024)throw Error("pvtlmt");n=n&-33521665|(t&1023)<<15}}e[u]=n}this.m=e}toJSON(){return ft(this)}};c.prototype.H=Ae,c.prototype.toString=function(){try{return Q=!0,ft(this).toString()}finally{Q=!1}};function ft(e){e=e.m,e=Q?e:nt(e,Dr,void 0,void 0,!1);{var t=!Q;let p=e.length;if(p){var n=e[p-1],r=Ve(n);r?p--:n=void 0;var i=e;if(r){e:{var s=n,o,l=!1;if(s){for(let v in s)if(isNaN(+v)){let x;((x=o)!=null?x:o={})[v]=s[v]}else if(r=s[v],Array.isArray(r)&&(Ee(r)||Zt(r)&&r.size===0)&&(r=null),r==null&&(l=!0),r!=null){let x;((x=o)!=null?x:o={})[v]=r}}if(l||(o=s),o)for(let v in o){l=o;break e}l=null}s=l==null?n!=null:l!==n}for(;p>0&&(o=i[p-1],!!(o==null||Ee(o)||Zt(o)&&o.size===0));p--)var a=!0;(i!==e||s||a)&&(t?(a||s||l)&&(i.length=p):i=Array.prototype.slice.call(i,0,p),l&&i.push(l)),a=i}else a=e}return a}function Ue(e){return t=>{if(t==null||t=="")t=new e;else{if(t=JSON.parse(t),!Array.isArray(t))throw Error("dnarr");t[u]|=32,t=new e(t)}return t}}var Lr=function(e){return t=>{if(t=JSON.parse(t),!Array.isArray(t)){var n=typeof t;throw Error("Expected jspb data to be an array, got "+(n!="object"?n:t?Array.isArray(t)?"array":n:"null")+": "+t)}return t[u]|=34,new e(t)}}(class extends c{}),En=class extends c{};function $r(e){var t=new Nn(500);let n=0,r;return(...i)=>{Tn(t)?e(...i):(r=()=>void e(...i),n||(n=setTimeout(()=>{n=0;let s;(s=r)==null||s()},kr(t))))}}function Fr(e){var t=new Nn(100),n=Promise.resolve();return(...r)=>Tn(t)?e(...r):n}function Tn(e){return Pn(e,e.index)>=e.g?(e.h[e.index]=Date.now(),e.index=(e.index+1)%1,!0):!1}function kr(e){const t=e.g;return e=Pn(e,e.index),e>=t?0:t-e}function Pn(e,t){let n;return Date.now()-((n=e.h[t])!=null?n:-1*e.g)}var Nn=class{constructor(e){this.g=e,this.h=[],this.index=0}},In=class extends c{},Br=[2,3],zr=class extends c{},f=class extends Error{constructor({errorType:e,message:t,i:n}){super(`Meet Add-on SDK error: ${`${t}${n?` - ${n}`:""}`}`),this.errorType=e}},k={errorType:"InternalError",message:"An unexpected error has occurred.",i:"No further information is available."},jn={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},Un={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",i:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},Wr={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",i:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},Jr={errorType:"NotSupportedInStandalone",message:"This method is not supported in standalone mode.",i:"Do not call this method in standalone mode."},Gr={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},Kr={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},Yr={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",i:"Make sure the destination frame has connected before sending messages to it."},Vr={errorType:"InvalidActivityStartingState",message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},qr={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",i:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Hr={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",i:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Xr={errorType:"AddonStartingStateMissingAttributes",message:"The supplied AddonStartingState object does not contain any recognized attributes.",i:"Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData."},Qr={errorType:"AddonStartingStateUnrecognizedAttributes",message:"The supplied AddonStartingState object contains attributes that are not recognized.",i:"Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData."},dt=e=>({errorType:"ArgumentNullError",message:`The argument supplied for '${e}' was 'null' but a value was expected.`,i:"Ensure you are passing a value of the expected type for the argument."}),M=(e,t,n)=>({errorType:"ArgumentTypeError",message:`The type '${t}' of argument supplied for '${e}' did not match the expected type '${n}'.`,i:"Ensure the type of the argument provided matches the expected type."}),Mn=e=>({errorType:"InternalError",message:`Could not connect to ${e} channel. Unknown error`,i:"No further information is available."}),Zr={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",i:"Ensure that no activity is ongoing."},ei={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",i:"Send one of the available commands in the frame message."},ti={errorType:"NoActivityFound",message:"No activity found.",i:"Ensure that the activity is started before performing this operation."},ni={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",i:"Meet add-on early access enrollment is currently closed."},ri={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",i:"Ensure that the user is the initiator of the current activity or that the activity has ended."},ii={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},oi={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",i:"Ensure that the frame to frame message size is less than 1,000,000 characters."},si={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",i:"Only instantiate the AddonSession once."},ai={errorType:"UserCancelled",message:"The user cancelled starting an activity.",i:"The user needs to click continue to start the activity."},li={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",i:"Do not call this method during a Meet call."},ci={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},ui={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},fi={errorType:"MeetingPolicyPreventsStartingActivity",message:"A meeting policy (such as using host control settings) prevents the user from starting the activity.",i:"Have a meeting host or administrator modify the necessary settings to allow the current user to start the activity."};function di(e){switch(e){case 0:return k;case 1:return Yr;case 2:return Vr;case 3:return Zr;case 4:return ei;case 5:return ni;case 6:return Jr;case 7:return ri;case 8:return ii;case 9:return oi;case 10:return ai;case 11:return li;case 12:return ci;case 13:return ui;case 14:return ti;case 15:return fi;default:return k}}function hi(e){let t;var n=(t=F(e,1))!=null?t:0;switch(e=gi(_(e,Br)),n){case 1:return{errorType:"InternalError",message:`Could not connect to ${e} channel. Meet did not respond with a MessagePort.`,i:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${e}. A conflicting ${e} exists.`,i:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${e} channel. The addon does not have permission to open a ${e}.`,i:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${e} channel. The addon is not authorized for this ${e}.`,i:"No further information is available."};case 0:return Mn(e);case 5:e:switch(e){case"co":n={errorType:"InternalError",message:`Could not connect to ${e} channel. The coActivity was not found.`,i:`Consider starting the ${e} only after after the startActivity promise returns.`};break e;default:n={errorType:"InternalError",message:`Could not connect to ${e} channel.`,i:"No further information is available."}}return n;default:return Mn(e)}}function gi(e){switch(e){case 2:return"co";case 3:return"gd";case 0:return"unknown";default:return"unknown"}}function Z({errorType:e,message:t,i:n},r=""){throw new f({errorType:e,message:r?`${t} ${r}`:t,i:n})}function Me(e,t){Z({...jn,message:`${jn.message}: ${e}. In URL ${t}`})}function ht(e){var t=new Cn;return g(t,1,O(e),0)}function gt(e,t){return g(e,2,R(t),"")}function yt(e,t){return g(e,3,R(t),"")}var Cn=class extends c{getFrameType(){return F(this,1)}};function bn(e){var t;xr===void 0?t=2:t=4;var n=e.m[u],r=n,i=!(2&n),s=Cn;e=e.m,t=(n=!!(2&r))?1:t,i&&(i=!n),n=Y(e,r,1),n=Array.isArray(n)?n:tn;var o=n[u]|0,l=!!(4&o);if(!l){var a=o;a===0&&(a=je(a,r)),o=n,a|=1;var p=r;const _e=!!(2&a);_e&&(p|=2);let Dt=!_e,_t=!0,Le=0,Lt=0;for(;Le<o.length;Le++){const $t=hn(o[Le],s,p);if($t instanceof s){if(!_e){const pr=!!(($t.m[u]|0)&2);Dt&&(Dt=!pr),_t&&(_t=pr)}o[Lt++]=$t}}Lt<Le&&(o.length=Lt),a|=4,a=_t?a|16:a&-17,a=Dt?a|8:a&-9,o[u]=a,_e&&Object.freeze(o),o=a}if(i&&!(8&o||!n.length&&(t===1||t===4&&32&o))){for(q(o)&&(n=fe(n),o=je(o,r),r=S(e,r,1,n)),i=n,s=o,o=0;o<i.length;o++)a=i[o],p=it(a),a!==p&&(i[o]=p);s|=8,s=i.length?s&-17:s|16,o=i[u]=s}let v;if(t===1||t===4&&32&o){if(!q(o)){r=o;var x=!!(32&o);o|=!n.length||16&o&&(!l||x)?2:2048,o!==r&&(n[u]=o),Object.freeze(n)}}else l=t!==5?!1:!!(32&o)||q(o)||!!gn(n),(t===2||l)&&q(o)&&(n=fe(n),o=je(o,r),o=ct(o,r,!1),n[u]=o,r=S(e,r,1,n)),q(o)||(e=o,o=ct(o,r,!1),o!==e&&(n[u]=o)),l?v=Ur(n):t===2&&((x=Ie)==null||x.delete(n));return v||n}function On(e){var t=new Rn;return xn(t,e)}var Rn=class extends c{},yi=class extends c{};function pt(e){var t=new pi;return g(t,1,O(e),0)}var pi=class extends c{},mi=class extends c{},vi=class extends c{},wi=class extends c{},Si=class extends c{getMeetingInfo(){return y(this,wi,3,mt)}getMeetPlatformInfo(){return y(this,vi,4,mt)}},mt=[2,3,4,5],Ce=class extends c{},ee=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],xi=class extends c{},Ai=class extends c{},Ei=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),Ti=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function Pi(e){e&&typeof e.dispose=="function"&&e.dispose()}function L(){this.s=this.s,this.g=this.g}L.prototype.s=!1,L.prototype.dispose=function(){this.s||(this.s=!0,this.G())},L.prototype[Symbol.dispose]=function(){this.dispose()};function Dn(e,t){e.s?t():(e.g||(e.g=[]),e.g.push(t))}L.prototype.G=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function _n({J:e,R:t}){if(e===null)throw new f(dt("activityStartingState"));if(t||e!==void 0){if(typeof e!="object")throw new f(M("activityStartingState",typeof e,`object${t?"":" | undefined"}`));if(e.mainStageUrl!==void 0&&typeof e.mainStageUrl!="string")throw new f(M("mainStageUrl",typeof e.mainStageUrl,"string | undefined"));if(e.sidePanelUrl!==void 0&&typeof e.sidePanelUrl!="string")throw new f(M("sidePanelUrl",typeof e.sidePanelUrl,"string | undefined"));if(e.additionalData!==void 0&&typeof e.additionalData!="string")throw new f(M("additionalData",typeof e.additionalData,"string | undefined"));if(Object.keys(e).length!==+!!e.mainStageUrl+ +!!e.sidePanelUrl+ +!!e.additionalData)throw new f(Hr);if(Object.keys(e).length===0)throw new f(qr)}}function Ln(e){const t=[];return t.push(yt(gt(ht(2),e.mainStageUrl),e.additionalData)),t.push(yt(gt(ht(1),e.sidePanelUrl),e.additionalData)),t}var vt=class extends L{constructor(e){super(),this.context=e,this.h={},ye(this.context.g.U,t=>{switch(_(t.content,ee)){case 7:const r=this.h.frameToFrameMessage;if(t=y(t.content,mi,7,ee),r&&t){var n=F(t,1);if(n=Ei.get(n),n===void 0)throw Error("Unknown frame type.");r({originator:n,payload:E(t,2)})}}})}async getMeetingInfo(){const e=await Mt(this.context.g,pt(2));return{meetingId:E(e.getMeetingInfo(),1),meetingCode:E(e.getMeetingInfo(),2)}}async getFrameOpenReason(){let e;const t=(e=this.context.h.ca)!=null?e:0;let n;return(n=Ti.get(t))!=null?n:"UNKNOWN"}async getActivityStartingState(){var e=y(await Mt(this.context.g,pt(1)),Rn,2,mt);const t=e==null?void 0:bn(e).find(n=>n.getFrameType()===2);return e=e==null?void 0:bn(e).find(n=>n.getFrameType()===1),{mainStageUrl:(t==null?void 0:E(t,2))||void 0,sidePanelUrl:(e==null?void 0:E(e,2))||void 0,additionalData:(e==null?void 0:E(e,3))||void 0}}async setActivityStartingState(e){_n({J:e,R:!0});var t=Ln(e);e=fo;var n=this.context.g,r=new xi;t=On(t),r=H(r,1,t),await e(n,r)}on(e,t){this.h[e]=t}async getMeetPlatformInfo(){const e=await Mt(this.context.g,pt(3));return{isMeetHardware:X(cn(D(e.getMeetPlatformInfo(),1)),!1)}}async closeAddon(){await ho(this.context.g)}async startActivity(e){_n({J:e,R:!1});const t=new Ai;e&&(e=Ln(e),e=On(e),H(t,1,e)),await go(this.context.g,t)}async endActivity(e){var t=yo,n=this.context.g,r=new yi;e=g(r,1,O(e==="aab61ee0-51b4-475d-aa4d-849f2498640d"?999:0),0),await t(n,e)}},Ni=Ue(class extends c{getFrameOpenReason(){return F(this,5)}});function wt(){var e=window.location.href,t=window.location.href,n=new URL(t).searchParams.get("meet_sdk");if(n?t=Ni(atob(n)):(Me("meet_sdk",t),t=void 0),(n=E(t,1))||Me("meet_addon_frame_type",e),n=Number(n),n!==2&&n!==1)throw new f(Gr);const r=E(t,2);r||Me("meet_control_channel_name",e);const i=E(t,4);i||Me("addon_cloud_project_number",e);var s;return e=(s=t.getFrameOpenReason())!=null?s:0,s=E(t,3)||"https://meet.google.com",{ca:e,frameType:n,ba:r,cloudProjectNumber:i,S:s}}var Ii=class extends c{},ji=class extends c{};function Ui(){var e=new Mi,t=new ji;return h(e,1,Ci,t)}var Mi=class extends c{},Ci=[1,2];function bi(e){var t=new Ri;return H(t,2,e)}function Oi(e,t){return g(e,3,R(t),"")}var Ri=class extends c{},Di=class extends c{},_i=class extends c{},Li=class extends c{},$i=class extends c{},Fi=class extends c{setAddonStartingState(e){return H(this,1,e)}},ki=class extends c{};function Bi(e,t){return h(e,2,P,t)}var T=class extends c{},P=[1,2,5,6,7,8,9,10,11,13,14,15,16],$n=class extends c{},be=Ue($n),te=[1,2];class zi{constructor(t,n){this.data=t,this.channel=n}}var Wi=Promise;function Fn(e){const t=new MessageChannel;return kn(t.port1,e),t}function St(e,t){return kn(e,t),new Ji(e)}class Ji{constructor(t){this.g=t}send(t,n,r=[]){n=Fn(n),this.g.postMessage(t,[n.port2].concat(r))}C(t,n){return new Wi(r=>{this.send(t,r,n)})}}function kn(e,t){t&&(e.onmessage=n=>{var r=n.data;n=St(n.ports[0]),t(new zi(r,n))})}var xt=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function Bn(e,t){e.l(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}class zn{constructor(t,n){this.j=t,this.l=n,this.h=0,this.g=null}get(){let t;return this.h>0?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.j(),t}}function Gi(){var e=Jn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ki{constructor(){this.h=this.g=null}add(t,n){const r=Wn.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Wn=new zn(()=>new Yi,e=>e.reset());class Yi{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let At,Et=!1,Jn=new Ki,Tt=(e,t)=>{At||Vi(),Et||(At(),Et=!0),Jn.add(e,t)},Vi=()=>{const e=Promise.resolve(void 0);At=()=>{e.then(qi)}};function qi(){let e;for(;e=Gi();){try{e.h.call(e.g)}catch(t){K(t)}Bn(Wn,e)}Et=!1}function Gn(){}function C(e){if(this.g=0,this.T=void 0,this.l=this.h=this.j=null,this.v=this.B=!1,e!=Gn)try{const t=this;e.call(void 0,function(n){ne(t,2,n)},function(n){ne(t,3,n)})}catch(t){ne(this,3,t)}}function Kn(){this.next=this.context=this.h=this.l=this.g=null,this.j=!1}Kn.prototype.reset=function(){this.context=this.h=this.l=this.g=null,this.j=!1};var Yn=new zn(function(){return new Kn},function(e){e.reset()});function Pt(e,t,n){const r=Yn.get();return r.l=e,r.h=t,r.context=n,r}function Hi(){let e,t;const n=new C(function(r,i){e=r,t=i});return new eo(n,e,t)}C.prototype.then=function(e,t,n){return Xi(this,xt(typeof e=="function"?e:null),xt(typeof t=="function"?t:null),n)},C.prototype.$goog_Thenable=!0;function Vn(e,t){t=xt(t),t=Pt(t,t),t.j=!0,Nt(e,t)}C.prototype.cancel=function(e){if(this.g==0){const t=new b(e);Tt(function(){qn(this,t)},this)}};function qn(e,t){if(e.g==0)if(e.j){var n=e.j;if(n.h){var r=0,i=null,s=null;for(let o=n.h;o&&(o.j||(r++,o.g==e&&(i=o),!(i&&r>1)));o=o.next)i||(s=o);i&&(n.g==0&&r==1?qn(n,t):(s?(r=s,r.next==n.l&&(n.l=r),r.next=r.next.next):Xn(n),Qn(n,i,3,t)))}e.j=null}else ne(e,3,t)}function Nt(e,t){e.h||e.g!=2&&e.g!=3||Hn(e),e.l?e.l.next=t:e.h=t,e.l=t}function Xi(e,t,n,r){const i=Pt(null,null,null);return i.g=new C(function(s,o){i.l=t?function(l){try{const a=t.call(r,l);s(a)}catch(a){o(a)}}:s,i.h=n?function(l){try{const a=n.call(r,l);a===void 0&&l instanceof b?o(l):s(a)}catch(a){o(a)}}:o}),i.g.j=e,Nt(e,i),i.g}C.prototype.ma=function(e){this.g=0,ne(this,2,e)},C.prototype.na=function(e){this.g=0,ne(this,3,e)};function ne(e,t,n){if(e.g==0){e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.g=1;e:{var r=n,i=e.ma,s=e.na;if(r instanceof C){Nt(r,Pt(i||Gn,s||null,e));var o=!0}else{if(r)try{var l=!!r.$goog_Thenable}catch{l=!1}else l=!1;if(l)r.then(i,s,e),o=!0;else{if(l=typeof r,l=="object"&&r!=null||l=="function")try{const a=r.then;if(typeof a=="function"){Qi(r,a,i,s,e),o=!0;break e}}catch(a){s.call(e,a),o=!0;break e}o=!1}}}o||(e.T=n,e.g=t,e.j=null,Hn(e),t!=3||n instanceof b||Zi(e,n))}}function Qi(e,t,n,r,i){function s(a){l||(l=!0,r.call(i,a))}function o(a){l||(l=!0,n.call(i,a))}let l=!1;try{t.call(e,o,s)}catch(a){s(a)}}function Hn(e){e.B||(e.B=!0,Tt(e.la,e))}function Xn(e){let t=null;return e.h&&(t=e.h,e.h=t.next,t.next=null),e.h||(e.l=null),t}C.prototype.la=function(){let e;for(;e=Xn(this);)Qn(this,e,this.g,this.T);this.B=!1};function Qn(e,t,n,r){if(n==3&&t.h&&!t.j)for(;e&&e.v;e=e.j)e.v=!1;if(t.g)t.g.j=null,Zn(t,n,r);else try{t.j?t.l.call(t.context):Zn(t,n,r)}catch(i){er.call(null,i)}Bn(Yn,t)}function Zn(e,t,n){t==2?e.l.call(e.context,n):e.h&&e.h.call(e.context,n)}function Zi(e,t){e.v=!0,Tt(function(){e.v&&er.call(null,t)})}var er=K;function b(e){ae.call(this,e)}G(b,ae),b.prototype.name="cancel";function eo(e,t,n){this.promise=e,this.resolve=t,this.reject=n}let to=1,ge=new WeakMap;function Oe(e,t,n){var r=no;e.h.has(t),r(t,n)}var It=class extends L{constructor(){super(),this.h=new Set}signal(){const e=new io;return this.h.add(e),Dn(this,w(Pi,e)),e}};function no(e,t){return new Promise(n=>{re(()=>{e.L&&(e.ea=t,e.P=!0);for(const{I:r,slot:i}of e.o.values())try{i(t,{signal:e,I:r})}catch(s){K(s)}for(const r of e.A)r.resolve(t);e.A.clear(),n()})})}function ye(e,t,n){const r=to++;return re(()=>{ro(e,r,t,n)}),r}function ro(e,t,n,r){if(!e.s)if(r){if(!r.s){const i=()=>{re(()=>{e.o.delete(t);const s=ge.get(r);s&&Wt(s,i)})};e.o.set(t,{I:t,slot:n,F:i}),nr(r,i)}}else e.o.set(t,{I:t,slot:n,F:()=>e.o.delete(t)})}var io=class extends L{constructor(){super(),this.L=!1,this.o=new Map,this.A=new Set,this.P=!1}detach(e){re(()=>{const t=this.o.get(e);t&&t.F()})}value(e){return this.promise(!0,e)}next(e){return this.promise(!1,e)}promise(e,t){const n=Hi();return re(()=>{if(this.s)n.reject(new b("Signal initially disposed"));else if(t&&t.s)n.reject(new b("Owner initially disposed"));else if(e&&this.L&&this.P)n.resolve(this.ea);else if(this.A.add(n),Vn(n.promise,()=>{this.A.delete(n)}),t){const r=()=>{n.reject(new b("Owner asynchronously disposed"))};Vn(n.promise,()=>{const i=ge.get(t);i&&Wt(i,r)}),nr(t,r)}}),n.promise}G(){super.G(),re(()=>{for(const{F:e}of this.o.values())e();this.o.clear();for(const e of this.A)e.reject(new b("Signal asynchronously disposed"));this.A.clear()})}};const pe=[];let jt=!1;function re(e){pe.push(e),oo()}async function oo(){if(!jt)try{jt=!0;let e=tr(0);for(;e<pe.length;)await Promise.resolve(),e=tr(e)}catch(e){K(e)}finally{pe.length=0,jt=!1}}function tr(e){const t=e+100;for(;e<t&&e<pe.length;)try{pe[e++]()}catch(n){K(n)}return e}function nr(e,t){if(e.s)t();else{var n=ge.get(e);if(n)n.push(t);else{const r=[t];ge.set(e,r),Dn(e,()=>{for(const i of[...r])i();ge.delete(e)})}}}function N(e){var t=new $n;return e=h(t,1,te,e),{content:ut(e)}}const rr=new It;function so(e,t){const n=rr.signal();return{channel:St(e,r=>{const i=t(r.data);Oe(rr,n,{content:i,ka:r})}),signal:n}}let ir;var B=class extends c{},z=class extends c{},Ut=class extends c{h(){return y(this,B,2,Re)}g(){return V(this,B,2,Re)}j(){return y(this,z,3,Re)}l(){return V(this,z,3,Re)}},Re=[2,3],ao=Ue(class extends c{}),lo=Ue(class extends c{}),De=[1,2],co=({destination:e,origin:t,ra:n,Y:r="ZNWN1d",onMessage:i})=>{if(t==="*")throw Error("Sending to wildcard origin not allowed.");const s=Fn(i);return e.postMessage(n?{n:r,t:n}:r,t,[s.port2]),St(s.port1,i)};function uo(e,t,n){const r=new It,i=r.signal();return e=co({destination:window.parent,origin:t,Y:e,onMessage:s=>{const o=be(s.data.content);_(o,te)===2&&Oe(r,i,{content:y(o,Ce,2,te),ka:s,messagePort:s.data.messagePort})}}),new xo(i,e,n)}async function Mt(e,t){var n=j,r=new T;t=h(r,9,P,t),e=await n(e,N(t));let i;return(i=y(be(e.data.content),Ce,2,te))==null?void 0:y(i,Si,9,ee)}async function fo(e,t){var n=j,r=new T;t=h(r,8,P,t),await n(e,N(t))}async function ho(e){var t=j,n=new T,r=new Ii;n=h(n,11,P,r),await t(e,N(n))}async function go(e,t){var n=j,r=new T;t=h(r,14,P,t),await n(e,N(t))}async function yo(e,t){var n=j,r=new T;t=h(r,15,P,t),await n(e,N(t))}async function po(e){await e.h()}async function j(e,t){(e=await e.channel.C(t))||Z(k,`Falsy response received from the message channel. ${JSON.stringify(e)}`),(t=e.data)||Z(k,`Data field in the response from the message channel is falsy. ${JSON.stringify(t)}`),(t=t.content)||Z(k,`Content field in the response from the message channel is falsy. ${JSON.stringify(t)}`);let n;try{n=be(t)}catch(r){Z(k,`The ControlMessage can't be deserialized. ${JSON.stringify(t)}. ${JSON.stringify(r)}`)}if((t=y(n,Ce,2,te))||Z(k,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(t)}`),t=t==null?void 0:y(t,zr,10,ee),(t==null?void 0:F(t,1))!==void 0)throw new f(di(F(t,1)));return e}async function mo(e,t,n){var r=j,i=new T;t=h(i,1,P,t),r=await r(e,N(t)),e=r.data.messagePort;var s;return(r=(s=y(be(r.data.content),Ce,2,te))==null?void 0:y(s,In,1,ee))!=null?s=r:(s=new In,s=g(s,1,O(0),0)),{channel:e?so(e,n):void 0,response:s}}async function or(e){const t=Ui(),{channel:n,response:r}=await mo(e,t,i=>lo(i));if(!n)throw new f(hi(r));return n}async function vo(e){var t=j,n=new T,r=new ki;n=h(n,5,P,r),await t(e,N(n))}async function wo(e){var t=j,n=new T,r=new Di;n=h(n,6,P,r),await t(e,N(n))}async function sr(e,t,n){var r=j,i=new T,s=new _i;t=g(s,1,O(t),0),n=g(t,2,R(n),""),i=h(i,7,P,n),await r(e,N(i))}async function So(e,t){var n=j,r=new T;t=h(r,16,P,t),await n(e,N(t))}class xo extends L{constructor(t,n,r){super(),this.U=t,this.channel=n,this.h=Fr(async()=>{var i=this.channel,s=i.C,o=new T,l=new Li;o=h(o,13,P,l),await s.call(i,N(o))}),t=_r(),E(t,4),Qe(D(t,1)),Qe(D(t,2)),Qe(D(t,3)),r=Bi(new T,Oi(bi(t),r)),this.channel.send(N(r)),ye(this.U,async i=>{switch(_(i.content,ee)){case 16:await po(this)}})}}let Ct;var Ao=class{constructor(e){var t=Ct;this.h=e,this.g=t}delete(){throw Error("Not implemented.")}},Eo=class extends c{h(){return y(this,B,2,ie)}g(){return V(this,B,2,ie)}j(){return y(this,z,3,ie)}l(){return V(this,z,3,ie)}},ie=[2,3],To=class extends c{},Po=class extends c{},No=class extends c{},Io=class extends c{h(){return y(this,B,2,oe)}g(){return V(this,B,2,oe)}j(){return y(this,z,3,oe)}l(){return V(this,z,3,oe)}},oe=[2,3],ar=[5,6],jo=class extends c{},bt=class extends c{},Ot=[1,2,3],Uo=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}},Mo=class{constructor(e){this.config=e}start(){return this.g!=null||(this.g=setInterval(()=>{this.config.ha()},this.config.da)),this}shutdown(){clearInterval(this.g)}};function Rt(){const e=new Map,t={set(n,r){return e.set(n,r),t},D:()=>e};return t}function Co(e){if(e.g()){e=e.h().m;var t=e[u],n=Y(e,t,1),r=en(n,!0);if(r!=null&&r!==n&&S(e,t,1,r),e=r,t=e??xe(),e=Uint8Array,Yt(ce),n=t.g,n!=null&&!We(n))if(typeof n=="string"){Gt.test(n)&&(n=n.replace(Gt,vr)),n=atob(n),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);n=r}else n=null;return t=n==null?n:t.g=n,{bytes:new e(t||0)}}}function bo(e,t){return t=lr(t),h(e,2,oe,t),e}function Oo(e,t){return t=lr(t),h(e,2,ie,t),e}function lr(e){var t=new B;return g(t,1,en(e.bytes,!1),xe())}function Ro(e){if(e.l()){e=e.j();var t,n,r=E(e,1),i=(n=(t=lt(e,En,2))==null?void 0:An(t))!=null?n:0;n=e.m;let s=n[u];const o=Y(n,s,4);return t=o==null||typeof o=="number"?o:o==="NaN"||o==="Infinity"||o==="-Infinity"?Number(o):void 0,t!=null&&t!==o&&S(n,s,4,t),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:X(t,0),playbackState:Lo.get(F(e,3))}}}function Do(e,t){return t=cr(t),h(e,3,oe,t),e}function _o(e,t){return t=cr(t),h(e,3,ie,t),e}const Lo=Rt().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").D(),$o=Rt().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).D();function cr(e){var t=new z;t=g(t,1,R(e.mediaId),"");var n=e.mediaPlayoutRate;if(n!=null&&typeof n!="number")throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return t=g(t,4,n,0),n=new En,n=g(n,1,Ze(e.mediaPlayoutPosition),"0"),t=H(t,2,n),e=$o.get(e.playbackState),g(t,3,O(e),0)}function Fo({activityTitle:e}){var t=new No;return ot(t,4,R(e))}function ko(e,t){var n=new Po;return t=g(n,1,O(t.u),0),h(e,6,ar,t),e}function Bo(e){var t=new To;return h(e,5,ar,t),e}const zo=Rt().set("co-doing",1).set("co-watching",2).D();async function ur(e,t,n){var r=t.C,i=new bt,s=new jo;s=g(s,1,R(e.activityTitle),"");var o=zo.get(e.K);s=g(s,2,O(o),0),i=h(i,3,Ot,s),r=await r.call(t,i,ao);let l;if((l=X(cn(D(r,1)),!1))!=null&&l)return new Wo(e,t,n,lt(r,Ut,2));throw new Uo}function fr(e,t){const n=e.config.N(t);n&&!e.config.M(e.g,n)&&(e.g=n,e.j=An(t),e.v(e.g))}function W(e,t){const{state:n,fa:r,context:i}=t(e.g);e.g=n,e.notify(e.g,i,r)}class Wo{constructor(t,n,r,i){this.l=t,this.h=n,this.config=r,this.v=$r(s=>void this.l.O(s)),Vo(this.h,s=>{const o=_(s,De);switch(o){case 1:fr(this,y(s,Ut,1,De));break;case 2:case 0:console.warn(`IllegalMessage: ${o} - Unhandled message - Please raise a bug with the MeetJS team`)}}),this.B=new Mo({da:1e3,ha:()=>{var s,o,l=(o=(s=this.l).ja)==null?void 0:o.call(s);if(this.g!==null){this.g={...this.g,...l},s=new bt,o=this.config,l=o.W;var a=new Eo;a=g(a,1,Ze(this.j),"0"),o=l.call(o,a,this.g),s=h(s,1,Ot,o),this.h.send(s)}}}).start(),this.g=null,this.j=0,i&&fr(this,i)}disconnect(){this.h.shutdown(),this.B.shutdown()}notify(t,n,r){var i=r?Fo(r):void 0;r=this.config;var s=r.X,o=new Io;o=g(o,1,Ze(this.j),"0"),i=H(o,4,i),t=s.call(r,i,t),t=this.config.V(t,n),n=this.h,r=n.send,s=new bt,t=h(s,2,Ot,t),r.call(n,t)}}var Jo=class{constructor(e){this.g=e}broadcastStateUpdate(e){W(this.g,()=>({state:e,context:{}}))}disconnect(){this.g.disconnect()}};function Go(e,t){return e==null||t==null?!1:e.bytes.length===t.bytes.length&&e.bytes.every((n,r)=>n===t.bytes[r])}var Ko=class{constructor(e){this.g=e}notifySwitchedToMedia(e,t,n){W(this.g,()=>({state:{mediaId:t,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:"PLAY"},fa:{activityTitle:e},context:{u:1}}))}notifyPauseState(e,t){W(this.g,n=>{if(n==null)throw Error("Invalid before coWatchingState");return{state:{...n,playbackState:e?"PAUSE":"PLAY",mediaPlayoutPosition:t},context:{u:3}}})}notifySeekToTimestamp(e){W(this.g,t=>{if(t==null)throw Error("Invalid before coWatchingState");return{state:{...t,mediaPlayoutPosition:e},context:{u:2}}})}notifyPlayoutRate(e){W(this.g,t=>{if(t==null)throw Error("Invalid before coWatchingState");return{state:{...t,mediaPlayoutRate:e},context:{u:4}}})}notifyBuffering(e){W(this.g,t=>{if(t==null)throw Error("Invalid before coWatchingState");return{state:{...t,mediaPlayoutPosition:e,playbackState:"BUFFERING"},context:{u:3}}})}notifyReady(e){W(this.g,t=>{if(t==null)throw Error("Invalid before coWatchingState");return{state:{...t,mediaPlayoutPosition:e},context:{u:3}}})}disconnect(){this.g.disconnect()}};function Yo(e,t){if(e==null||t==null)return!1;const n=e.playbackState==="PLAY"?3*Math.max(e.mediaPlayoutRate,1):0,r=Math.abs(e.mediaPlayoutPosition-t.mediaPlayoutPosition);return e.mediaId===t.mediaId&&e.mediaPlayoutRate===t.mediaPlayoutRate&&r<=n&&e.playbackState===t.playbackState}function Vo(e,t){const n=ye(e.signal,r=>{t(r)});e.o.push(n)}var dr=class{constructor(e,t){this.channel=e,this.signal=t,this.o=[]}send(e){this.channel.send(ut(e))}async C(e,t){return e=await this.channel.C(ut(e)),t(e.data)}shutdown(){this.o.forEach(e=>{this.signal.detach(e)})}};function qo(e,t){var n=Zo;const r=e.signal(),i=e.signal();return ye(t,s=>{const o=n(s)?r:i;Oe(e,o,s)},e),{ia:r,ga:i}}function Ho(e,t,n,r=i=>i){ye(n,i=>{Oe(e,t,r(i))},e)}async function Xo(e,t){if(t)return e=await ur({activityTitle:t.activityTitle,K:"co-watching",ja:()=>t.onCoWatchingStateQuery(),O:n=>{t.onCoWatchingStateChanged(n)}},e,{X:Do,W:_o,V:ko,N:Ro,M:Yo}),new Ko(e)}async function Qo(e,t){if(t)return e=await ur({activityTitle:t.activityTitle,K:"co-doing",O:n=>{t.onCoDoingStateChanged(n)}},e,{X:bo,W:Oo,V:Bo,N:Co,M:Go}),new Jo(e)}async function hr(e){const t=new It,n=t.signal();e=await e,Ho(t,n,e.signal,s=>s.content);const{ia:r,ga:i}=qo(t,n);return{Z:new dr(e.channel,r),aa:new dr(e.channel,i)}}function Zo(e){e:switch(_(e,De)){case 1:e=y(e,Ut,1,De);break e;default:throw Error("CA Message arrived with no known content message set")}return e.g()}async function es(e,t){if({Z:e}=await hr(or(e.g)),t=await Qo(e,t),!t)throw Error("Failed to create co-doing session");return t}async function ts(e,t){if({aa:e}=await hr(or(e.g)),t=await Xo(e,t),!t)throw Error("Failed to create co-watching session");return t}var ns=class extends vt{async notifySidePanel(e){await sr(this.context.g,1,e)}async unloadSidePanel(){await vo(this.context.g)}async loadSidePanel(){await wo(this.context.g)}},rs=class extends vt{async setAddonStartingState(e){if(e===null)throw new f(dt("addonStartingState"));if(typeof e!="object")throw new f(M("addonStartingState",typeof e,"object | undefined"));if(e.sidePanelUrl!==void 0&&typeof e.sidePanelUrl!="string")throw new f(M("sidePanelUrl",typeof e.sidePanelUrl,"string | undefined"));if(e.additionalData!==void 0&&typeof e.additionalData!="string")throw new f(M("additionalData",typeof e.additionalData,"string | undefined"));if(Object.keys(e).length!==+!!e.sidePanelUrl+ +!!e.additionalData)throw new f(Qr);if(Object.keys(e).length===0)throw new f(Xr);var t=[];t.push(yt(gt(ht(1),e.sidePanelUrl),e.additionalData)),e=this.context.g;var n=new Fi,r=n.setAddonStartingState,i=new $i;t=xn(i,t),await So(e,r.call(n,t))}},is=class extends vt{async notifyMainStage(e){await sr(this.context.g,2,e)}},os=class{constructor(e){e=e.cloudProjectNumber;const t=wt();if(t.cloudProjectNumber!==e)throw new f(Kr);const n=t.S,r=t.ba;let i;Ct=(i=Ct)!=null?i:uo(r,n,e),this.g=new Ao(t)}async createMainStageClient(){var e=this.g;if(e.h.frameType!==2)throw new f(Un);return await Promise.resolve(new ns(e))}async createSidePanelClient(){var e=this.g;if(e.h.frameType!==1)throw new f(Wr);return await Promise.resolve(new is(e))}async createCoWatchingClient(e){return await ts(this.g,e)}async createCoDoingClient(e){return await es(this.g,e)}async createRoomsStandaloneClient(){var e=this.g;if(e.h.frameType!==2)throw new f(Un);return await Promise.resolve(new rs(e))}};let gr=null;var yr={addon:{getFrameType:function(){e:{var e=wt().frameType;switch(e){case 2:e="MAIN_STAGE";break e;case 1:e="SIDE_PANEL";break e;default:throw Error(`Unknown frame type: ${e}`)}}return e},createAddonSession:async function(e){if(e===null)throw new f(dt("config"));if(typeof e!="object")throw new f(M("config",typeof e,"object"));if(typeof e.cloudProjectNumber!="string")throw new f(M("cloudProjectNumber",typeof e.cloudProjectNumber,"string"));if(gr&&wt().S!=="integration.test.google.com")throw new f(si);return gr=new os(e)}}},me=["meet"],U=d;me[0]in U||typeof U.execScript>"u"||U.execScript("var "+me[0]);for(var J;me.length&&(J=me.shift());)me.length||yr===void 0?U[J]&&U[J]!==Object.prototype[J]?U=U[J]:U=U[J]={}:U[J]=yr}).apply(ss);
