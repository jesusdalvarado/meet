(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{4880:function(t,e,n){(function(){let t,e,r,i,a,o,s,l,u,c,f,h;var d,g,y,p,m="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},v=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(t,e){if(e)t:{var n=v;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&m(n,t,{configurable:!0,writable:!0,value:e})}}("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")});var w=this||self,b=function(t,e){t:{for(var n=["CLOSURE_FLAGS"],r=w,i=0;i<n.length;i++)if(null==(r=r[n[i]])){n=null;break t}n=r}return null!=(t=n&&n[t])?t:e},S=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},x=function(t,e){function n(){}n.prototype=e.prototype,t.ub=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.qb=function(t,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[n].apply(t,i)}};function A(t,e){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{let t=Error().stack;t&&(this.stack=t)}t&&(this.message=String(t)),void 0!==e&&(this.cause=e)}function N(t){w.setTimeout(()=>{throw t},0)}x(A,Error),A.prototype.name="CustomError";var T=b(0x2461fc15,!1),E=b(0x26f6f3e1,b(1,!0));let I=w.navigator;function P(t){return!!T&&!!g&&g.brands.some(({brand:e})=>e&&-1!=e.indexOf(t))}function M(t){var e;return(e=w.navigator)&&(e=e.userAgent)||(e=""),-1!=e.indexOf(t)}function U(){return!!T&&!!g&&g.brands.length>0}function j(){return U()?P("Chromium"):(M("Chrome")||M("CriOS"))&&!(U()?0:M("Edge"))||M("Silk")}function C(t,e){(e=Array.prototype.indexOf.call(t,e,void 0))>=0&&Array.prototype.splice.call(t,e,1)}function O(t){let e="",n=0,r=t.length-10240;for(;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return btoa(e+=String.fromCharCode.apply(null,n?t.subarray(n):t))}g=I&&I.userAgentData||null,M("Android")&&j(),j(),M("Safari")&&(j()||(U()?0:M("Coast"))||(U()?0:M("Opera"))||(U()?0:M("Edge"))||(U()?P("Microsoft Edge"):M("Edg/"))||U()&&P("Opera"));let _=/[-_.]/g,k={"-":"+",_:"/",".":"="};function D(t){return k[t]||""}function R(t){return null!=t&&t instanceof Uint8Array}var L={};function F(t){if(t!==L)throw Error("illegal external caller")}var $=function(){return t||(t=new B(null,L))},B=class{constructor(t,e){if(F(e),this.ba=t,null!=t&&0===t.length)throw Error("ByteString should be constructed with non-empty values")}},z=function(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e};function J(){let t=Error();z(t,"incident"),N(t)}function W(t){return z(t=Error(t),"warning"),t}function G(){return"function"==typeof BigInt}function K(t){return Array.prototype.slice.call(t)}var V=Symbol(),Y=Symbol(),H=Symbol();function q(t,e){e[V]=(0|t)&-30975}function X(t,e){e[V]=(34|t)&-30941}var Z={},Q={};function tt(t){return!(!t||"object"!=typeof t||t.tb!==Q)}function te(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&t.constructor===Object}function tn(t,e,n){if(null!=t){if("string"==typeof t)t=t?new B(t,L):$();else if(t.constructor!==B){if(R(t))t=t.length?new B(n?t:new Uint8Array(t),L):$();else{if(!e)throw Error();t=void 0}}}return t}function tr(t){return!!Array.isArray(t)&&!t.length&&!!((0|t[V])&1)}let ti=[];function ta(t){if(2&t)throw Error()}ti[V]=55,y=Object.freeze(ti);var to=Object.freeze({}),ts=Object.freeze({}),tl=Object.freeze({});function tu(t){return t.sb=!0,t}var tc=tu(t=>"number"==typeof t),tf=tu(t=>"string"==typeof t),th=tu(t=>"boolean"==typeof t),td="function"==typeof w.BigInt&&"bigint"==typeof w.BigInt(0);function tg(t){var e=t;if(tf(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(tc(e)&&!Number.isSafeInteger(e))throw Error(String(e));return td?BigInt(t):t=th(t)?t?"1":"0":tf(t)?t.trim()||"0":String(t)}var ty=tu(t=>td?t>=tm&&t<=tw:"-"===t[0]?tb(t,tp):tb(t,tv));let tp=Number.MIN_SAFE_INTEGER.toString(),tm=td?BigInt(Number.MIN_SAFE_INTEGER):void 0,tv=Number.MAX_SAFE_INTEGER.toString(),tw=td?BigInt(Number.MAX_SAFE_INTEGER):void 0;function tb(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r>i)return!1;if(r<i)return!0}}let tS=0,tx=0;function tA(t){let e=t>>>0;tS=e,tx=(t-e)/0x100000000>>>0}function tN(t){if(t<0){tA(0-t);let[e,n]=tP(tS,tx);tS=e>>>0,tx=n>>>0}else tA(t)}function tT(t,e){if(t>>>=0,(e>>>=0)<=2097151)var n=""+(0x100000000*e+t);else G()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(n=(t>>>24|e<<8)&0xffffff,t=(0xffffff&t)+6777216*n+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+tE(n)+tE(t));return n}function tE(t){return t=String(t),"0000000".slice(t.length)+t}function tI(){var t=tS,e=tx;if(0x80000000&e){if(G())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{let[n,r]=tP(t,e);t="-"+tT(n,r)}}else t=tT(t,e);return t}function tP(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function tM(t){return null==t||"boolean"==typeof t?t:"number"==typeof t?!!t:void 0}let tU=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function tj(t){let e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return"string"===e&&tU.test(t)}function tC(t){if(null!=t){if(!Number.isFinite(t))throw W("enum");t|=0}return t}function tO(t){if(!tj(t))throw W("int64");switch(typeof t){case"string":return tR(t);case"bigint":return tg(BigInt.asIntN(64,t));default:return tD(t)}}function t_(t){return"-"===t[0]?t.length<20||20===t.length&&Number(t.substring(0,7))>-922337:t.length<19||19===t.length&&922337>Number(t.substring(0,6))}function tk(t){if(t_(t))return t;if(t.length<16)tN(Number(t));else if(G())tS=Number((t=BigInt(t))&BigInt(0xffffffff))>>>0,tx=Number(t>>BigInt(32)&BigInt(0xffffffff));else{let e=+("-"===t[0]);tx=tS=0;let n=t.length;for(let r=0+e,i=(n-e)%6+e;i<=n;r=i,i+=6){let e=Number(t.slice(r,i));tx*=1e6,(tS=1e6*tS+e)>=0x100000000&&(tx+=Math.trunc(tS/0x100000000),tx>>>=0,tS>>>=0)}if(e){let[t,e]=tP(tS,tx);tS=t,tx=e}}return tI()}function tD(t){if(!Number.isSafeInteger(t=Math.trunc(t))){tN(t);var e=tS,n=tx;(t=0x80000000&n)&&(n=~n>>>0,0==(e=~e+1>>>0)&&(n=n+1>>>0)),e=0x100000000*n+(e>>>0),t=t?-e:e}return t}function tR(t){var e=Math.trunc(Number(t));return Number.isSafeInteger(e)?String(e):(-1!==(e=t.indexOf("."))&&(t=t.substring(0,e)),tk(t))}function tL(t){if(null!=t&&"string"!=typeof t)throw Error();return t}function tF(t,e,n){if(null!=t&&"object"==typeof t&&t.qa===Z)return t;if(Array.isArray(t)){var r=0|t[V],i=r;return 0===i&&(i|=32&n),(i|=2&n)!==r&&(t[V]=i),new e(t)}}var t$=function(t){var e;if(void 0===u&&(u="function"==typeof Proxy?tJ(Proxy):null),!u||!tz())return t;let n=tB(t);return n||(Math.random()>.01?t:(function(t){if(void 0===f){let t=new u([],{});f=1===Array.prototype.concat.call([],t).length}f&&"function"==typeof Symbol&&Symbol.isConcatSpreadable&&(t[Symbol.isConcatSpreadable]=!0)}(t),e=n=new u(t,{set:(t,e,n)=>(J(),t[e]=n,!0)}),(s||(s=new c)).set(t,e),(l||(l=new c)).set(e,t),n))},tB=function(t){let e;return null==(e=s)?void 0:e.get(t)};function tz(){return void 0===c&&(c="function"==typeof WeakMap?tJ(WeakMap):null),c}function tJ(t){try{return -1!==t.toString().indexOf("[native code]")?t:null}catch{return null}}var tW=function(t,e,n){if(tz()){if(tY(t,e)){if(n)return}else if(Math.random()>.01)return;var r=t.length;n={length:r};for(var i=0;i<Math.min(r,10);i++){if(r<=10)var a=i;else{let t=Math.floor(i*(a=r/10));a=t+Math.floor(Math.random()*(Math.floor((i+1)*a)-t))}n[a]=t[a]}tK(t,n)?((i=(r=h||(h=new c)).get(e))||(i=new c,r.set(e,i)),i.set(t,n)):(J(),tH(t,e))}},tG=function(t,e){let n=tY(t,e);n&&!tK(t,n)&&(J(),tH(t,e))};function tK(t,e){if(t.length!==e.length)return!1;for(let i in e){var n,r=Number(i);if((n=Number.isInteger(r))&&(n=t[r],r=e[r],n=!(Number.isNaN(n)?Number.isNaN(r):n===r)),n)return!1}return!0}var tV=function(t){var e;if(t&&null!=(e=h)&&e.has(t)&&(e=t.h))for(let n=0;n<e.length;n++){let r=e[n];if(n===e.length-1&&te(r))for(let e in r){let n=r[e];Array.isArray(n)&&tG(n,t)}else Array.isArray(r)&&tG(r,t)}};function tY(t,e){let n,r;return null==(n=h)?void 0:null==(r=n.get(e))?void 0:r.get(t)}var tH=function(t,e){let n,r;null==(n=h)||null==(r=n.get(e))||r.delete(t)};function tq(t,e){return r=e,t=new t(e),r=void 0,t}function tX(t,e){return tZ(e)}function tZ(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"bigint":return ty(t)?Number(t):String(t);case"boolean":return t?1:0;case"object":if(t){if(Array.isArray(t)){if(tr(t))return}else{if(R(t))return O(t);if(t instanceof B){let e=t.ba;return null==e?"":"string"==typeof e?e:t.ba=O(e)}}}}return t}function tQ(t,e,n,r,i){let a=r||n?0|t[V]:0;r=r?!!(32&a):void 0,t=K(t);for(let a=0;a<t.length;a++)t[a]=function t(e,n,r,i,a){if(null!=e){if(Array.isArray(e))e=tr(e)?void 0:a&&(0|e[V])&2?e:tQ(e,n,r,void 0!==i,a);else if(te(e)){let o={};for(let s in e)o[s]=t(e[s],n,r,i,a);e=o}else e=n(e,i);return e}}(t[a],e,n,r,i);return n&&n(a,t),t}function t0(t){return t.qa===Z?t.toJSON():tZ(t)}function t1(t,e,n,r){return tV(t),tq(t.constructor,function(t,e,n){let r=n||2&e?X:q,i=!!(32&e);return(t=function(t,e,n){var r=(t=K(t)).length;let i=256&e?t[r-1]:void 0;for(r+=i?-1:0,e=512&e?1:0;e<r;e++)t[e]=n(t[e]);if(i)for(let r in e=t[e]={},i)e[r]=n(i[r]);return t}(t,e,t=>(function t(e,n,r=X){if(null!=e){if(e instanceof Uint8Array)return n?e:new Uint8Array(e);if(Array.isArray(e)){var i=0|e[V];return 2&i?e:(n&&(n=0===i||!!(32&i)&&!(64&i||!(16&i))),n?(e[V]=(34|i)&-12293,e):tQ(e,t,4&i?X:r,!0,!0))}return e.qa===Z&&(e=2&(i=(r=e.h)[V])?e:t1(e,r,i,!0)),e}})(t,i,r)))[V]=32|t[V]|(n?2:0),t}(e,n,r))}function t2(t){let e=t.h,n=e[V];return 2&n?t1(t,e,n,!1):t}let t3=tg(0);var t4=function(t,e){return t5(t=t.h,t[V],e)};function t6(t,e,n,r){if(!((e=r+(+!!(512&e)-1))<0||e>=t.length||e>=n))return t[e]}var t5=function(t,n,r,i){if(-1===r)return null;let a=n>>15&1023||0x20000000;if(r>=a){if(256&n)return t[t.length-1][r]}else{var o,s=t.length;return i&&256&n&&null!=(i=t[s-1][r])?(t6(t,n,a,r)&&null!=Y&&((o=(t=null!=(o=e)?o:e={})[Y]||0)>=4||(t[Y]=o+1,J())),i):t6(t,n,a,r)}},t8=function(t,e,n){let r=t.h,i=r[V];return ta(i),t9(r,i,e,n),t};function t9(t,e,n,r){let i=e>>15&1023||0x20000000;if(n>=i){let a,o=e;if(256&e)a=t[t.length-1];else{if(null==r)return o;a=t[i+(+!!(512&e)-1)]={},o|=256}return a[n]=r,n<i&&(t[n+(+!!(512&e)-1)]=void 0),o!==e&&(t[V]=o),o}return t[n+(+!!(512&e)-1)]=r,256&e&&n in(t=t[t.length-1])&&delete t[n],e}var t7=function(t,e,n,r){return n=en(t,r)===n?n:-1,void 0!==ea(t,e,n)};function et(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function ee(t,e,n,r){let i=t.h,a=i[V];return ta(a),t9(i,a,e,("0"===r?0===Number(n):n===r)?void 0:n),t}var en=function(t,e){return ei(er(t=t.h),t,t[V],e)};function er(t){let e;return null!=(e=t[H])?e:t[H]=new Map}function ei(t,e,n,r){let i=t.get(r);if(null!=i)return i;i=0;for(let t=0;t<r.length;t++){let a=r[t];null!=t5(e,n,a)&&(0!==i&&(n=t9(e,n,i)),i=a)}return t.set(r,i),i}function ea(t,e,n,r){let i=(t=t.h)[V];return(e=tF(r=t5(t,i,n,r),e,i))!==r&&null!=e&&t9(t,i,n,e),e}var eo=function(t,e,n){if(null==(e=ea(t,e,n,!1)))return e;let r=(t=t.h)[V];if(!(2&r)){let i=t2(e);i!==e&&t9(t,r,n,e=i)}return e},es=function(t){let e;var n=void 0===to?2:5,r=t.h[V],i=r,a=!(2&r);r=t.h;var o=!!(2&i);n=o?1:n,a&&(a=!o);var l=0|(o=Array.isArray(o=t5(r,i,1))?o:y)[V],u=o;if(tG(u,t),2!==n&&1!==n||tH(u,t),!(u=!!(4&l))){var c=l;0===c&&(c=ef(c,i)),l=o;var f=i,h=e9;let t=!!(2&(c|=1));t&&(f|=2);let e=!t,n=!0,r=0,a=0;for(;r<l.length;r++){let i=tF(l[r],h,f);if(i instanceof h){if(!t){let t=!!((0|i.h[V])&2);e&&(e=!t),n&&(n=t)}l[a++]=i}}a<r&&(l.length=a),c|=4,c=n?16|c:-17&c,c=e?8|c:-9&c,l[V]=c,t&&Object.freeze(l),l=c}if(a&&!(8&l||!o.length&&(1===n||4===n&&32&l))){for(et(l)?(o=K(o),l=ef(l,i),i=t9(r,i,1,o)):tH(o,t),a=o,c=0;c<a.length;c++)h=t2(f=a[c]),f!==h&&(a[c]=h);l|=8,l=a.length?-17&l:16|l,a[V]=l}if(1===n||4===n&&32&l)et(l)||(t=l,i=!!(32&l),(l|=!o.length||16&l&&(!u||i)?2:2048)!==t&&(o[V]=l),Object.freeze(o));else if(u=5===n&&(!!(32&l)||et(l)||!!tB(o)),(2===n||u)&&et(l)&&(o=K(o),l=eh(l=ef(l,i),i,!1),o[V]=l,i=t9(r,i,1,o)),et(l)||(r=l,(l=eh(l,i,!1))!==r&&(o[V]=l)),u)e=t$(o),tW(o,t,!0);else if(2===n){let t;null==(t=s)||t.delete(o)}return e||o},el=function(t,e,n){return null==n&&(n=void 0),t8(t,e,n)},eu=function(t,e,n,r){null==r&&(r=void 0);t:{let o=t.h;var i=o[V];if(ta(i),null==r){var a=er(o);if(ei(a,o,i,n)===e)a.set(n,0);else break t}else{let t=er(a=o),r=ei(t,a,i,n);r!==e&&(r&&(i=t9(a,i,r)),t.set(n,e))}t9(o,i,e,r)}return t},ec=function(t,e){let n=t.h,r=n[V];if(ta(r),null==e)return t9(n,r,1),t;var i,a,o=e;a=o=0|(e=(null==(a=l)?void 0:a.get(o))||o)[V];let s=!!(2&o)||!!(2048&o),u=s||Object.isFrozen(e);(i=!u)&&((i=void 0===tl)||(i=(E||!1)&&void 0!==ts));let c=!0,f=!0;for(let t=0;t<e.length;t++){var h=e[t];s||(h=!!((0|h.h[V])&2),c&&(c=!h),f&&(f=h))}return s||(o|=5,o=c?8|o:-9&o,o=f?16|o:-17&o),i||u&&o!==a?(e=K(e),a=0,o=eh(o=ef(o,r),r,!0)):u||tW(e,t),o!==a&&(e[V]=o),t9(n,r,1,e),t};function ef(t,e){return -2049&(t=(2&e?2|t:-3&t)|32)}function eh(t,e,n){return 32&e&&n||(t&=-33),t}function ed(t,e){return null!=t?t:e}var eg=function(t){return null!=(t=t4(t,1))&&(t="bigint"==typeof t?ty(t)?Number(t):ty(t=BigInt.asIntN(64,t))?Number(t):String(t):tj(t)?"number"==typeof t?tD(t):tR(t):void 0),ed(t,0)},ey=function(t,e){return ed(null==(t=t4(t,e))||"string"==typeof t?t:void 0,"")},ep=function(t,e){return ed(t=null==(t=t4(t,e))?t:Number.isFinite(t)?0|t:void 0,0)},em=function(t,e,n,r){return n=en(t,r)===n?n:-1,eo(t,e,n)},ev=function(t){try{return i=!0,JSON.stringify(eS(t),tX)}finally{i=!1}},ew=function(){var t=a||(a=eA("[1,1,1]"));let e=(t=t8(t=t2(t),4,tL("dev-688299045"))).h,n=e[V];return 2&n?t:t1(t,e,n,!0)},eb=class{constructor(t){t:{if(null==t&&(t=r),r=void 0,null==t){var e=96;t=[]}else{if(!Array.isArray(t))throw Error("narr");if(2048&(e=0|t[V]))throw Error("farr");if(64&e)break t;var n=t;e|=64;var i=n.length;if(i&&te(n[--i])){if(e|=256,(n=i-(+!!(512&e)-1))>=1024)throw Error("pvtlmt");e=-0x1ff8001&e|(1023&n)<<15}}t[V]=e}this.h=t}toJSON(){return eS(this)}getExtension(t){let e=t.D?t.Za?t.M(this,t.D,t.F,void 0===to?2:4,!0):t.M(this,t.D,t.F,!0):t.Za?t.M(this,t.F,void 0===to?2:4,!0):t.M(this,t.F,t.defaultValue,!0);return t.rb&&null==e?t.defaultValue:e}hasExtension(t){return t=t.D?void 0!==ea(this,t.D,t.F,!0):(null===(t=t.D?t.M(this,t.D,t.F,!0):t.M(this,t.F,null,!0))?void 0:t)!==void 0}clone(){let t=this.h;return t1(this,t,t[V],!1)}};function eS(t){tV(t),t=i?t.h:tQ(t.h,t0,void 0,void 0,!1);{var e=!i;let c=t.length;if(c){var n=t[c-1],r=te(n);r?c--:n=void 0;var a=t;if(r){e:{var o,s=n,l=!1;if(s){for(let t in s)if(isNaN(+t)){let e;(null!=(e=o)?e:o={})[t]=s[t]}else if(Array.isArray(r=s[t])&&(tr(r)||tt(r)&&0===r.size)&&(r=null),null==r&&(l=!0),null!=r){let e;(null!=(e=o)?e:o={})[t]=r}}if(l||(o=s),o)for(let t in o){l=o;break e}l=null}s=null==l?null!=n:l!==n}for(;c>0&&(null==(o=a[c-1])||tr(o)||tt(o)&&0===o.size);c--)var u=!0;(a!==t||s||u)&&(e?(u||s||l)&&(a.length=c):a=Array.prototype.slice.call(a,0,c),l&&a.push(l)),u=a}else u=t}return u}function ex(t){return e=>{if(null==e||""==e)e=new t;else{if(!Array.isArray(e=JSON.parse(e)))throw Error("dnarr");e[V]|=32,e=tq(t,e)}return e}}eb.prototype.qa=Z,eb.prototype.toString=function(){try{return i=!0,eS(this).toString()}finally{i=!1}};var eA=(d=class extends eb{},t=>{if(!Array.isArray(t=JSON.parse(t))){var e=typeof t;throw Error("Expected jspb data to be an array, got "+("object"!=e?e:t?Array.isArray(t)?"array":e:"null")+": "+t)}return t[V]|=34,new d(t)}),eN=class extends eb{getSeconds(){var t=t4(this,1),e=typeof t;return null!=t&&("bigint"===e?t=tg(BigInt.asIntN(64,t)):tj(t)?"string"===e?Number.isSafeInteger(e=Math.trunc(Number(t)))?t=tg(e):(-1!==(e=t.indexOf("."))&&(t=t.substring(0,e)),t=G()?tg(BigInt.asIntN(64,BigInt(t))):tg(tk(t))):Number.isSafeInteger(t)?t=tg(tD(t)):(Number.isSafeInteger(t=Math.trunc(t))?t=String(t):t_(e=String(t))?t=e:(tN(t),t=tI()),t=tg(t)):t=void 0),ed(t,t3)}setSeconds(t){return ee(this,1,null==t?t:tO(t),"0")}},eT=class extends eb{za(){return en(this,eE)}},eE=[2,3],eI=class extends eb{},eP=class extends Error{constructor({errorType:t,message:e,g:n}){super(`Meet Add-on SDK error: ${e}${n?` - ${n}`:""}`),this.errorType=t}},eM={errorType:"InternalError",message:"An unexpected error has occurred.",g:"No further information is available."},eU={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},ej={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",g:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},eC={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",g:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},eO={errorType:"NotSupportedInStandalone",message:"This method is not supported in standalone mode.",g:"Do not call this method in standalone mode."},e_={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},ek={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},eD={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",g:"Make sure the destination frame has connected before sending messages to it."},eR={errorType:"InvalidActivityStartingState",message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",g:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},eL={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",g:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},eF={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",g:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},e$={errorType:"AddonStartingStateMissingAttributes",message:"The supplied AddonStartingState object does not contain any recognized attributes.",g:"Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData."},eB={errorType:"AddonStartingStateUnrecognizedAttributes",message:"The supplied AddonStartingState object contains attributes that are not recognized.",g:"Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData."},ez=t=>({errorType:"ArgumentNullError",message:`The argument supplied for '${t}' was 'null' but a value was expected.`,g:"Ensure you are passing a value of the expected type for the argument."}),eJ=(t,e,n)=>({errorType:"ArgumentTypeError",message:`The type '${e}' of argument supplied for '${t}' did not match the expected type '${n}'.`,g:"Ensure the type of the argument provided matches the expected type."}),eW=t=>({errorType:"InternalError",message:`Could not connect to ${t} channel. Unknown error`,g:"No further information is available."}),eG={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",g:"Ensure that no activity is ongoing."},eK={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",g:"Send one of the available commands in the frame message."},eV={errorType:"NoActivityFound",message:"No activity found.",g:"Ensure that the activity is started before performing this operation."},eY={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",g:"Meet add-on early access enrollment is currently closed."},eH={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",g:"Ensure that the user is the initiator of the current activity or that the activity has ended."},eq={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},eX={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",g:"Ensure that the frame to frame message size is less than 1,000,000 characters."},eZ={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",g:"Only instantiate the AddonSession once."},eQ={errorType:"UserCancelled",message:"The user cancelled starting an activity.",g:"The user needs to click continue to start the activity."},e0={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",g:"Do not call this method during a Meet call."},e1={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",g:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},e2={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."};function e3({errorType:t,message:e,g:n},r=""){throw new eP({errorType:t,message:r?`${e} ${r}`:e,g:n})}function e4(t,e){e3({...eU,message:`${eU.message}: ${t}. In URL ${e}`})}var e6=function(t){return ee(new e9,1,tC(t),0)},e5=function(t,e){return ee(t,2,tL(e),"")},e8=function(t,e){return ee(t,3,tL(e),"")},e9=class extends eb{getFrameType(){return ep(this,1)}},e7=class extends eb{ja(){return es(this)}X(t){return ec(this,t)}},nt=class extends eb{constructor(){super()}},ne=function(t){return ee(new nn,1,tC(t),0)},nn=class extends eb{constructor(){super()}},nr=class extends eb{La(t){return ee(this,2,tL(t),"")}},ni=class extends eb{},na=class extends eb{},no=class extends eb{S(){return en(this,ns)}ma(){return em(this,e7,2,ns)}aa(t){return eu(this,2,ns,t)}getMeetingInfo(){return em(this,na,3,ns)}getMeetPlatformInfo(){return em(this,ni,4,ns)}},ns=[2,3,4,5],nl=class extends eb{na(){return en(this,nu)}},nu=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],nc=class extends eb{constructor(){super()}ma(){return eo(this,e7,1)}aa(t){return el(this,1,t)}},nf=class extends eb{constructor(){super()}ma(){return eo(this,e7,1)}aa(t){return el(this,1,t)}},nh=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),nd=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function ng(t){t&&"function"==typeof t.dispose&&t.dispose()}var ny=function(){this.o=this.o,this.A=this.A};ny.prototype.o=!1,ny.prototype.dispose=function(){this.o||(this.o=!0,this.fa())},ny.prototype[Symbol.dispose]=function(){this.dispose()};var np=function(t,e){t.o?e():(t.A||(t.A=[]),t.A.push(e))};ny.prototype.fa=function(){if(this.A)for(;this.A.length;)this.A.shift()()};var nm=function({ua:t,Ga:e}){if(null===t)throw new eP(ez("activityStartingState"));if(e||void 0!==t){if("object"!=typeof t)throw new eP(eJ("activityStartingState",typeof t,`object${e?"":" | undefined"}`));if(void 0!==t.mainStageUrl&&"string"!=typeof t.mainStageUrl)throw new eP(eJ("mainStageUrl",typeof t.mainStageUrl,"string | undefined"));if(void 0!==t.sidePanelUrl&&"string"!=typeof t.sidePanelUrl)throw new eP(eJ("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(void 0!==t.additionalData&&"string"!=typeof t.additionalData)throw new eP(eJ("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.mainStageUrl+ +!!t.sidePanelUrl+ +!!t.additionalData)throw new eP(eF);if(0===Object.keys(t).length)throw new eP(eL)}},nv=function(t){let e=[];return e.push(e8(e5(e6(2),t.mainStageUrl),t.additionalData)),e.push(e8(e5(e6(1),t.sidePanelUrl),t.additionalData)),e},nw=class extends ny{constructor(t){super(),this.context=t,this.Da={},ry(this.context.i.Ia,t=>{if(7===t.content.na()){let n=this.Da.frameToFrameMessage;if(t=em(t.content,nr,7,nu),n&&t){var e=ep(t,1);if(void 0===(e=nh.get(e)))throw Error("Unknown frame type.");n({originator:e,payload:ey(t,2)})}}})}async getMeetingInfo(){let t=await rL(this.context.i,ne(2));return{meetingId:ey(t.getMeetingInfo(),1),meetingCode:ey(t.getMeetingInfo(),2)}}async getFrameOpenReason(){let t,e;let n=null!=(t=this.context.P.Wa)?t:0;return null!=(e=nd.get(n))?e:"UNKNOWN"}async getActivityStartingState(){var t=(await rL(this.context.i,ne(1))).ma();let e=null==t?void 0:t.ja().find(t=>2===t.getFrameType());return t=null==t?void 0:t.ja().find(t=>1===t.getFrameType()),{mainStageUrl:(null==e?void 0:ey(e,2))||void 0,sidePanelUrl:(null==t?void 0:ey(t,2))||void 0,additionalData:(null==t?void 0:ey(t,3))||void 0}}async setActivityStartingState(t){nm({ua:t,Ga:!0}),t=nv(t),await rF(this.context.i,(new nc).aa((new e7).X(t)))}on(t,e){this.Da[t]=e}async getMeetPlatformInfo(){return{isMeetHardware:ed(tM(t4((await rL(this.context.i,ne(3))).getMeetPlatformInfo(),1)),!1)}}async closeAddon(){await r$(this.context.i)}async startActivity(t){nm({ua:t,Ga:!1});let e=new nf;t&&(t=nv(t),e.aa((new e7).X(t))),await rB(this.context.i,e)}async endActivity(t){var e=this.context.i;t=ee(new nt,1,tC("aab61ee0-51b4-475d-aa4d-849f2498640d"===t?999:0),0),await rz(e,t)}},nb=ex(class extends eb{getFrameOpenReason(){return ep(this,5)}});function nS(){var t,e=window.location.href,n=window.location.href,r=new URL(n).searchParams.get("meet_sdk");if(r?n=nb(atob(r)):(e4("meet_sdk",n),n=void 0),(r=ey(n,1))||e4("meet_addon_frame_type",e),2!==(r=Number(r))&&1!==r)throw new eP(e_);let i=ey(n,2);i||e4("meet_control_channel_name",e);let a=ey(n,4);return a||e4("addon_cloud_project_number",e),{Wa:e=null!=(t=n.getFrameOpenReason())?t:0,frameType:r,Sa:i,cloudProjectNumber:a,Ha:t=ey(n,3)||"https://meet.google.com"}}var nx=class extends eb{constructor(){super()}},nA=class extends eb{constructor(){super()}},nN=class extends eb{constructor(){super()}za(){return en(this,nT)}},nT=[1,2],nE=class extends eb{constructor(){super()}},nI=class extends eb{constructor(){super()}},nP=class extends eb{constructor(){super()}La(t){return ee(this,2,tL(t),"")}},nM=class extends eb{constructor(){super()}},nU=class extends eb{constructor(){super()}ja(){return es(this)}X(t){return ec(this,t)}},nj=class extends eb{constructor(){super()}setAddonStartingState(t){return el(this,1,t)}},nC=class extends eb{constructor(){super()}},nO=class extends eb{constructor(){super()}na(){return en(this,n_)}},n_=[1,2,5,6,7,8,9,10,11,13,14,15,16],nk=class extends eb{},nD=ex(nk),nR=[1,2];class nL{constructor(t,e){this.data=t,this.channel=e}}var nF=Promise,n$=function(t){let e=new MessageChannel;return nJ(e.port1,t),e},nB=function(t,e){return nJ(t,e),new nz(t)};class nz{constructor(t){this.ib=t}send(t,e,n=[]){e=n$(e),this.ib.postMessage(t,[e.port2].concat(n))}O(t,e){return new nF(n=>{this.send(t,n,e)})}}let nJ=function(t,e){e&&(t.onmessage=t=>{e(new nL(t.data,t=nB(t.ports[0])))})};class nW{constructor(t,e){this.bb=100,this.Ta=t,this.lb=e,this.W=0,this.V=null}get(){let t;return this.W>0?(this.W--,t=this.V,this.V=t.next,t.next=null):t=this.Ta(),t}put(t){this.lb(t),this.W<this.bb&&(this.W++,t.next=this.V,this.V=t)}}class nG{constructor(){this.ca=this.J=null}add(t,e){let n=nK.get();n.set(t,e),this.ca?this.ca.next=n:this.J=n,this.ca=n}remove(){let t=null;return this.J&&(t=this.J,this.J=this.J.next,this.J||(this.ca=null),t.next=null),t}}var nK=new nW(()=>new nV,t=>t.reset());class nV{constructor(){this.next=this.scope=this.ia=null}set(t,e){this.ia=t,this.scope=e,this.next=null}reset(){this.next=this.scope=this.ia=null}}let nY,nH=!1,nq=new nG,nX=(t,e)=>{nY||nZ(),nH||(nY(),nH=!0),nq.add(t,e)},nZ=()=>{let t=Promise.resolve(void 0);nY=()=>{t.then(nQ)}};function nQ(){let t;for(;t=nq.remove();){try{t.ia.call(t.scope)}catch(t){N(t)}nK.put(t)}nH=!1}var n0=function(){},n1=function(t){if(this.l=0,this.Ja=void 0,this.C=this.u=this.B=null,this.T=this.ha=!1,t!=n0)try{var e=this;t.call(void 0,function(t){rt(e,2,t)},function(t){rt(e,3,t)})}catch(t){rt(this,3,t)}},n2=function(){this.next=this.context=this.H=this.N=this.v=null,this.L=!1};n2.prototype.reset=function(){this.context=this.H=this.N=this.v=null,this.L=!1};var n3=new nW(function(){return new n2},function(t){t.reset()}),n4=function(t,e,n){var r=n3.get();return r.N=t,r.H=e,r.context=n,r},n6=function(){var t,e;return new ru(new n1(function(n,r){t=n,e=r}),t,e)};n1.prototype.then=function(t,e,n){return n7(this,"function"==typeof t?t:null,"function"==typeof e?e:null,n)},n1.prototype.$goog_Thenable=!0;var n5=function(t,e){(e=n4(e,e)).L=!0,n9(t,e)};n1.prototype.nb=function(t,e){return n7(this,null,t,e)},n1.prototype.catch=n1.prototype.nb,n1.prototype.cancel=function(t){if(0==this.l){var e=new rl(t);nX(function(){n8(this,e)},this)}};var n8=function(t,e){if(0==t.l){if(t.B){var n=t.B;if(n.u){for(var r=0,i=null,a=null,o=n.u;o&&(o.L||(r++,o.v==t&&(i=o),!(i&&r>1)));o=o.next)i||(a=o);i&&(0==n.l&&1==r?n8(n,e):(a?((r=a).next==n.C&&(n.C=r),r.next=r.next.next):rr(n),ri(n,i,3,e)))}t.B=null}else rt(t,3,e)}},n9=function(t,e){t.u||2!=t.l&&3!=t.l||rn(t),t.C?t.C.next=e:t.u=e,t.C=e},n7=function(t,e,n,r){var i=n4(null,null,null);return i.v=new n1(function(t,a){i.N=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){a(t)}}:t,i.H=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof rl?a(e):t(i)}catch(t){a(t)}}:a}),i.v.B=t,n9(t,i),i.v};n1.prototype.ob=function(t){this.l=0,rt(this,2,t)},n1.prototype.pb=function(t){this.l=0,rt(this,3,t)};var rt=function(t,e,n){if(0==t.l){t===n&&(e=3,n=TypeError("Promise cannot resolve to itself")),t.l=1;t:{var r=n,i=t.ob,a=t.pb;if(r instanceof n1){n9(r,n4(i||n0,a||null,t));var o=!0}else{if(r)try{var s=!!r.$goog_Thenable}catch(t){s=!1}else s=!1;if(s)r.then(i,a,t),o=!0;else{if("object"==(s=typeof r)&&null!=r||"function"==s)try{var l=r.then;if("function"==typeof l){re(r,l,i,a,t),o=!0;break t}}catch(e){a.call(t,e),o=!0;break t}o=!1}}}o||(t.Ja=n,t.l=e,t.B=null,rn(t),3!=e||n instanceof rl||ro(t,n))}},re=function(t,e,n,r,i){var a=!1,o=function(t){a||(a=!0,r.call(i,t))};try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}},rn=function(t){t.ha||(t.ha=!0,nX(t.Va,t))},rr=function(t){var e=null;return t.u&&(e=t.u,t.u=e.next,e.next=null),t.u||(t.C=null),e};n1.prototype.Va=function(){for(var t;t=rr(this);)ri(this,t,this.l,this.Ja);this.ha=!1};var ri=function(t,e,n,r){if(3==n&&e.H&&!e.L)for(;t&&t.T;t=t.B)t.T=!1;if(e.v)e.v.B=null,ra(e,n,r);else try{e.L?e.N.call(e.context):ra(e,n,r)}catch(t){rs.call(null,t)}n3.put(e)},ra=function(t,e,n){2==e?t.N.call(t.context,n):t.H&&t.H.call(t.context,n)},ro=function(t,e){t.T=!0,nX(function(){t.T&&rs.call(null,e)})},rs=N,rl=function(t){A.call(this,t)};x(rl,A),rl.prototype.name="cancel";var ru=function(t,e,n){this.promise=t,this.resolve=e,this.reject=n};let rc=1,rf=new WeakMap;var rh=function(t,e,n){t.Oa.has(e),rg(e,n)},rd=class extends ny{constructor(){super(),this.Oa=new Set}signal(){let t=new rm;return this.Oa.add(t),np(this,S(ng,t)),t}},rg=function(t,e){return new Promise(n=>{rb(()=>{for(let{ta:n,slot:r}of(t.wa&&(t.ab=e,t.Ca=!0),t.j.values()))try{r(e,{signal:t,ta:n})}catch(t){N(t)}for(let n of t.I)n.resolve(e);t.I.clear(),n()})})},ry=function(t,e,n){let r=rc++;return rb(()=>{rp(t,r,e,n)}),r},rp=function(t,e,n,r){if(!t.o){if(r){if(!r.o){let i=()=>{rb(()=>{t.j.delete(e);let n=rf.get(r);n&&C(n,i)})};t.j.set(e,{ta:e,slot:n,ea:i}),rA(r,i)}}else t.j.set(e,{ta:e,slot:n,ea:()=>t.j.delete(e)})}},rm=class extends ny{constructor(){super(),this.wa=!1,this.j=new Map,this.I=new Set,this.Ca=!1}detach(t){rb(()=>{let e=this.j.get(t);e&&e.ea()})}value(t){return this.promise(!0,t)}next(t){return this.promise(!1,t)}promise(t,e){let n=n6();return rb(()=>{if(this.o)n.reject(new rl("Signal initially disposed"));else if(e&&e.o)n.reject(new rl("Owner initially disposed"));else if(t&&this.wa&&this.Ca)n.resolve(this.ab);else if(this.I.add(n),n5(n.promise,()=>{this.I.delete(n)}),e){let t=()=>{n.reject(new rl("Owner asynchronously disposed"))};n5(n.promise,()=>{let n=rf.get(e);n&&C(n,t)}),rA(e,t)}}),n.promise}fa(){super.fa(),rb(()=>{for(let{ea:t}of this.j.values())t();for(let t of(this.j.clear(),this.I))t.reject(new rl("Signal asynchronously disposed"));this.I.clear()})}};let rv=[],rw=!1;function rb(t){rv.push(t),rS()}async function rS(){if(!rw)try{rw=!0;let t=rx(0);for(;t<rv.length;)await Promise.resolve(),t=rx(t)}catch(t){N(t)}finally{rv.length=0,rw=!1}}function rx(t){let e=t+100;for(;t<e&&t<rv.length;)try{rv[t++]()}catch(t){N(t)}return t}function rA(t,e){if(t.o)e();else{var n=rf.get(t);if(n)n.push(e);else{let n=[e];rf.set(t,n),np(t,()=>{for(let t of[...n])t();rf.delete(t)})}}}function rN(t){return{content:ev(t=eu(new nk,1,nR,t))}}let rT=new rd;var rE=class extends eb{getState(){let t=this.h,e=t[V],n=t5(t,e,1),r=tn(n,!0,!!(34&e));return null!=r&&r!==n&&t9(t,e,1,r),null==r?$():r}},rI=class extends eb{},rP=class extends eb{ka(){return em(this,rE,2,rM)}Y(t){eu(this,2,rM,t)}U(){return t7(this,rE,2,rM)}la(){return em(this,rI,3,rM)}Z(t){eu(this,3,rM,t)}oa(){return t7(this,rI,3,rM)}},rM=[2,3],rU=ex(class extends eb{}),rj=ex(class extends eb{S(){return en(this,rC)}}),rC=[1,2],rO=function(t){return rk(t,t.index)>=t.ga&&(t.Fa[t.index]=Date.now(),t.index=(t.index+1)%t.cb,!0)},r_=function(t){let e=t.ga;return(t=rk(t,t.index))>=e?0:e-t},rk=function(t,e){let n;return Date.now()-(null!=(n=t.Fa[e])?n:-1*t.ga)},rD=class{constructor(t){this.cb=1,this.ga=t,this.Fa=[],this.index=0}},rR=({destination:t,origin:e,vb:n,Pa:r="ZNWN1d",onMessage:i})=>{if("*"===e)throw Error("Sending to wildcard origin not allowed.");let a=n$(i);return t.postMessage(n?{n:r,t:n}:r,e,[a.port2]),nB(a.port1,i)},rL=async function(t,e){let n;return e=eu(new nO,9,n_,e),null==(n=em(nD((t=await rW(t,rN(e))).data.content),nl,2,nR))?void 0:em(n,no,9,nu)},rF=async function(t,e){e=eu(new nO,8,n_,e),await rW(t,rN(e))},r$=async function(t){var e=new nO;e=eu(e,11,n_,new nx),await rW(t,rN(e))},rB=async function(t,e){e=eu(new nO,14,n_,e),await rW(t,rN(e))},rz=async function(t,e){e=eu(new nO,15,n_,e),await rW(t,rN(e))},rJ=async function(t){await t.mb()},rW=async function(t,e){let n;(t=await t.channel.O(e))||e3(eM,`Falsy response received from the message channel. ${JSON.stringify(t)}`),(e=t.data)||e3(eM,`Data field in the response from the message channel is falsy. ${JSON.stringify(e)}`),(e=e.content)||e3(eM,`Content field in the response from the message channel is falsy. ${JSON.stringify(e)}`);try{n=nD(e)}catch(t){e3(eM,`The ControlMessage can't be deserialized. ${JSON.stringify(e)}. ${JSON.stringify(t)}`)}if((e=em(n,nl,2,nR))||e3(eM,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(e)}`),(null==(e=null==e?void 0:em(e,eI,10,nu))?void 0:ep(e,1))!==void 0)throw new eP(function(t){switch(t){case 0:default:return eM;case 1:return eD;case 2:return eR;case 3:return eG;case 4:return eK;case 5:return eY;case 6:return eO;case 7:return eH;case 8:return eq;case 9:return eX;case 10:return eQ;case 11:return e0;case 12:return e1;case 13:return e2;case 14:return eV}}(ep(e,1)));return t},rG=async function(t,e,n){var r,i=rW;return e=eu(new nO,1,n_,e),t=(i=await i(t,rN(e))).data.messagePort,r=null!=(i=null==(r=em(nD(i.data.content),nl,2,nR))?void 0:em(r,eT,1,nu))?i:ee(r=new eT,1,tC(0),0),{channel:t?function(t,e){let n=rT.signal();return{channel:nB(t,t=>{rh(rT,n,{content:e(t.data),kb:t})}),signal:n}}(t,n):void 0,response:r}},rK=async function(t){let e=eu(new nN,1,nT,new nA),{channel:n,response:r}=await rG(t,e,t=>rj(t));if(!n)throw new eP(function(t){let e;var n=null!=(e=ep(t,1))?e:0;switch(t=function(t){switch(t){case 2:return"co";case 3:return"gd";default:return"unknown"}}(t.za()),n){case 1:return{errorType:"InternalError",message:`Could not connect to ${t} channel. Meet did not respond with a MessagePort.`,g:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${t}. A conflicting ${t} exists.`,g:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon does not have permission to open a ${t}.`,g:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon is not authorized for this ${t}.`,g:"No further information is available."};case 0:default:return eW(t);case 5:t:if("co"===t){n={errorType:"InternalError",message:`Could not connect to ${t} channel. The coActivity was not found.`,g:`Consider starting the ${t} only after after the startActivity promise returns.`};break t}else n={errorType:"InternalError",message:`Could not connect to ${t} channel.`,g:"No further information is available."};return n}}(r));return n},rV=async function(t){var e=new nO;e=eu(e,5,n_,new nC),await rW(t,rN(e))},rY=async function(t){var e=new nO;e=eu(e,6,n_,new nI),await rW(t,rN(e))},rH=async function(t,e,n){var r=new nO;r=eu(r,7,n_,e=ee(new nP,1,tC(e),0).La(n)),await rW(t,rN(r))},rq=async function(t,e){e=eu(new nO,16,n_,e),await rW(t,rN(e))};class rX extends ny{constructor(t,e,n){var r,i,a,o;super(),this.Ia=t,this.channel=e,this.mb=(r=async()=>{var t=this.channel,e=t.O,n=new nO;n=eu(n,13,n_,new nM),await e.call(t,rN(n))},i=new rD(100),a=Promise.resolve(),(...t)=>rO(i)?r(...t):a),t=ew(),n=eu(new nO,2,n_,(o=t,ee(el(new nE,2,o),3,tL(n),""))),this.channel.send(rN(n)),ry(this.Ia,async t=>{16===t.content.na()&&await rJ(this)})}}var rZ=class{constructor(t){var e=o;this.P=t,this.i=e}delete(){throw Error("Not implemented.")}},rQ=class extends eb{constructor(){super()}sa(t){return ee(this,1,null==t?t:tO(t),"0")}ka(){return em(this,rE,2,r0)}Y(t){eu(this,2,r0,t)}U(){return t7(this,rE,2,r0)}la(){return em(this,rI,3,r0)}Z(t){eu(this,3,r0,t)}oa(){return t7(this,rI,3,r0)}},r0=[2,3],r1=class extends eb{constructor(){super()}},r2=class extends eb{constructor(){super()}},r3=class extends eb{constructor(){super()}ra(t){return t8(this,4,tL(t))}},r4=class extends eb{constructor(){super()}sa(t){return ee(this,1,null==t?t:tO(t),"0")}ka(){return em(this,rE,2,r6)}Y(t){eu(this,2,r6,t)}U(){return t7(this,rE,2,r6)}la(){return em(this,rI,3,r6)}Z(t){eu(this,3,r6,t)}oa(){return t7(this,rI,3,r6)}},r6=[2,3],r5=[5,6],r8=class extends eb{constructor(){super()}ra(t){return ee(this,1,tL(t),"")}},r9=class extends eb{constructor(){super()}S(){return en(this,r7)}},r7=[1,2,3],it=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}},ie=class{constructor(t){this.config=t}start(){return null!=this.Ea||(this.Ea=setInterval(()=>{this.config.gb()},this.config.Ya)),this}shutdown(){clearInterval(this.Ea)}};function ir(){let t=new Map,e={set:(n,r)=>(t.set(n,r),e),da:()=>t};return e}function ii(t){if(t.U()){var e=t.ka().getState();t=Uint8Array,F(L);var n=e.ba;if(null!=n&&!R(n)){if("string"==typeof n){_.test(n)&&(n=n.replace(_,D));let t=new Uint8Array((n=atob(n)).length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);n=t}else n=null}return{bytes:new t((e=null==n?n:e.ba=n)||0)}}}function ia(t,e){return t.Y(is(e)),t}function io(t,e){return t.Y(is(e)),t}function is(t){return ee(new rE,1,tn(t.bytes,!1,!1),$())}function il(t){if(t.oa()){var e,n,r=ey(t=t.la(),1),i=null!=(n=null==(e=eo(t,eN,2))?void 0:eg(e))?n:0;let a=(n=t.h)[V],o=t5(n,a,4);return null!=(e=null==o||"number"==typeof o?o:"NaN"===o||"Infinity"===o||"-Infinity"===o?Number(o):void 0)&&e!==o&&t9(n,a,4,e),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:ed(e,0),playbackState:ih.get(ep(t,3))}}}function iu(t,e){return t.Z(ig(e)),t}function ic(t,e){return t.Z(ig(e)),t}let ih=ir().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").da(),id=ir().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).da();function ig(t){var e=new rI;e=ee(e,1,tL(t.mediaId),"");var n=t.mediaPlayoutRate;if(null!=n&&"number"!=typeof n)throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return e=el(e=ee(e,4,n,0),2,n=(new eN).setSeconds(t.mediaPlayoutPosition)),ee(e,3,tC(t=id.get(t.playbackState)),0)}function iy(t,e){return eu(t,6,r5,e=ee(new r2,1,tC(e.G),0)),t}function ip(t){return eu(t,5,r5,new r1),t}let im=ir().set("co-doing",1).set("co-watching",2).da();async function iv(t,e,n){let r;var i=e.O,a=new r9,o=(new r8).ra(t.activityTitle);if(a=eu(a,3,r7,o=ee(o,2,tC(im.get(t.va)),0)),null!=(r=ed(tM(t4(i=await i.call(e,a,rU),1)),!1))&&r)return new iS(t,e,n,eo(i,rP,2));throw new it}var iw=function(t,e){let n=t.config.Aa(e);n&&!t.config.ya(t.s,n)&&(t.s=n,t.pa=eg(e),t.Ua(t.s))},ib=function(t,e){let{state:n,eb:r,context:i}=e(t.s);t.s=n,t.notify(t.s,i,r)};class iS{constructor(t,e,n,r){var i,a;let o,s;this.xa=t,this.R=e,this.config=n,this.Ua=(i=t=>void this.xa.Ba(t),a=new rD(500),o=0,(...t)=>{rO(a)?i(...t):(s=()=>void i(...t),o||(o=setTimeout(()=>{o=0,null==s||s()},r_(a))))}),iE(this.R,t=>{let e=t.S();switch(e){case 1:iw(this,em(t,rP,1,rC));break;case 2:case 0:console.warn(`IllegalMessage: ${e} - Unhandled message - Please raise a bug with the MeetJS team`)}}),this.Xa=new ie({Ya:1e3,gb:()=>{var t,e;let n=null==(e=(t=this.xa).jb)?void 0:e.call(t);null!==this.s&&(this.s={...this.s,...n},t=eu(t=new r9,1,r7,e=this.config.Ma((new rQ).sa(this.pa),this.s)),this.R.send(t))}}).start(),this.s=null,this.pa=0,r&&iw(this,r)}disconnect(){this.R.shutdown(),this.Xa.shutdown()}notify(t,e,n){var r=n?function({activityTitle:t}){return(new r3).ra(t)}(n):void 0,i=(n=this.config).Na;r=el((new r4).sa(this.pa),4,r),t=i.call(n,r,t),t=this.config.Ka(t,e),n=(e=this.R).send,t=eu(i=new r9,2,r7,t),n.call(e,t)}}var ix=class{constructor(t){this.m=t}broadcastStateUpdate(t){ib(this.m,()=>({state:t,context:{}}))}disconnect(){this.m.disconnect()}};function iA(t,e){return null!=t&&null!=e&&t.bytes.length===e.bytes.length&&t.bytes.every((t,n)=>t===e.bytes[n])}var iN=class{constructor(t){this.m=t}notifySwitchedToMedia(t,e,n){ib(this.m,()=>({state:{mediaId:e,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:"PLAY"},eb:{activityTitle:t},context:{G:1}}))}notifyPauseState(t,e){ib(this.m,n=>{if(null==n)throw Error("Invalid before coWatchingState");return{state:{...n,playbackState:t?"PAUSE":"PLAY",mediaPlayoutPosition:e},context:{G:3}}})}notifySeekToTimestamp(t){ib(this.m,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{G:2}}})}notifyPlayoutRate(t){ib(this.m,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutRate:t},context:{G:4}}})}notifyBuffering(t){ib(this.m,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t,playbackState:"BUFFERING"},context:{G:3}}})}notifyReady(t){ib(this.m,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{G:3}}})}disconnect(){this.m.disconnect()}};function iT(t,e){if(null==t||null==e)return!1;let n="PLAY"===t.playbackState?3*Math.max(t.mediaPlayoutRate,1):0,r=Math.abs(t.mediaPlayoutPosition-e.mediaPlayoutPosition);return t.mediaId===e.mediaId&&t.mediaPlayoutRate===e.mediaPlayoutRate&&r<=n&&t.playbackState===e.playbackState}var iE=function(t,e){let n=ry(t.signal,t=>{e(t)});t.j.push(n)},iI=class{constructor(t,e){this.channel=t,this.signal=e,this.j=[]}send(t){this.channel.send(ev(t))}async O(t,e){return e((t=await this.channel.O(ev(t))).data)}shutdown(){this.j.forEach(t=>{this.signal.detach(t)})}};async function iP(t,e){if(e)return new iN(t=await iv({activityTitle:e.activityTitle,va:"co-watching",jb:()=>e.onCoWatchingStateQuery(),Ba:t=>{e.onCoWatchingStateChanged(t)}},t,{Na:iu,Ma:ic,Ka:iy,Aa:il,ya:iT}))}async function iM(t,e){if(e)return new ix(t=await iv({activityTitle:e.activityTitle,va:"co-doing",Ba:t=>{e.onCoDoingStateChanged(t)}},t,{Na:ia,Ma:io,Ka:ip,Aa:ii,ya:iA}))}async function iU(t){let e=new rd,n=e.signal();!function(t,e,n,r=t=>t){ry(n,n=>{rh(t,e,r(n))},t)}(e,n,(t=await t).signal,t=>t.content);let{hb:r,fb:i}=function(t,e){let n=t.signal(),r=t.signal();return ry(e,e=>{rh(t,!function(t){t:if(1===t.S()){t=em(t,rP,1,rC);break t}else throw Error("CA Message arrived with no known content message set");return t.U()}(e)?r:n,e)},t),{hb:n,fb:r}}(e,n);return{Qa:new iI(t.channel,r),Ra:new iI(t.channel,i)}}async function ij(t,e){if({Qa:t}=await iU(rK(t.i)),!(e=await iM(t,e)))throw Error("Failed to create co-doing session");return e}async function iC(t,e){if({Ra:t}=await iU(rK(t.i)),!(e=await iP(t,e)))throw Error("Failed to create co-watching session");return e}var iO=class extends nw{async notifySidePanel(t){await rH(this.context.i,1,t)}async unloadSidePanel(){await rV(this.context.i)}async loadSidePanel(){await rY(this.context.i)}},i_=class extends nw{async setAddonStartingState(t){if(null===t)throw new eP(ez("addonStartingState"));if("object"!=typeof t)throw new eP(eJ("addonStartingState",typeof t,"object | undefined"));if(void 0!==t.sidePanelUrl&&"string"!=typeof t.sidePanelUrl)throw new eP(eJ("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(void 0!==t.additionalData&&"string"!=typeof t.additionalData)throw new eP(eJ("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.sidePanelUrl+ +!!t.additionalData)throw new eP(eB);if(0===Object.keys(t).length)throw new eP(e$);let e=[];e.push(e8(e5(e6(1),t.sidePanelUrl),t.additionalData)),await rq(this.context.i,(new nj).setAddonStartingState((new nU).X(e)))}},ik=class extends nw{async notifyMainStage(t){await rH(this.context.i,2,t)}},iD=class{constructor(t){let e;t=t.cloudProjectNumber;let n=nS();if(n.cloudProjectNumber!==t)throw new eP(ek);let r=n.Ha,i=n.Sa;o=null!=(e=o)?e:function(t,e,n){let r=new rd,i=r.signal();return t=rR({destination:window.parent,origin:e,Pa:t,onMessage:t=>{let e=nD(t.data.content);2===en(e,nR)&&rh(r,i,{content:em(e,nl,2,nR),kb:t,messagePort:t.data.messagePort})}}),new rX(i,t,n)}(i,r,t),this.K=new rZ(n)}async createMainStageClient(){var t=this.K;if(2!==t.P.frameType)throw new eP(ej);return await Promise.resolve(new iO(t))}async createSidePanelClient(){var t=this.K;if(1!==t.P.frameType)throw new eP(eC);return await Promise.resolve(new ik(t))}async createCoWatchingClient(t){return await iC(this.K,t)}async createCoDoingClient(t){return await ij(this.K,t)}async createRoomsStandaloneClient(){var t=this.K;if(2!==t.P.frameType)throw new eP(ej);return await Promise.resolve(new i_(t))}};let iR=null;var iL={addon:{getFrameType:function(){t:{var t=nS().frameType;switch(t){case 2:t="MAIN_STAGE";break t;case 1:t="SIDE_PANEL";break t;default:throw Error(`Unknown frame type: ${t}`)}}return t},createAddonSession:async function(t){if(null===t)throw new eP(ez("config"));if("object"!=typeof t)throw new eP(eJ("config",typeof t,"object"));if("string"!=typeof t.cloudProjectNumber)throw new eP(eJ("cloudProjectNumber",typeof t.cloudProjectNumber,"string"));if(iR&&"integration.test.google.com"!==nS().Ha)throw new eP(eZ);return iR=new iD(t)}}},iF=["meet"],i$=w;for((iF[0]in i$)||void 0===i$.execScript||i$.execScript("var "+iF[0]);iF.length&&(p=iF.shift());)iF.length||void 0===iL?i$=i$[p]&&i$[p]!==Object.prototype[p]?i$[p]:i$[p]={}:i$[p]=iL}).call(this)}}]);